"use strict";(self.webpackChunkens_app=self.webpackChunkens_app||[]).push([[357],{3693:function(t,n,e){e.r(n),e.d(n,{default:function(){return M}});var r,i,o,u,s=e(27853),a=e(84531),c=e(78932),l=e(38128),d=e(17186),p=e(50390),h=e(5170),f=e(92411),g=e(68476),v=(0,g.Ps)(r||(r=(0,d.Z)(["\n  query getweb3 @client {\n    accounts\n    isReadOnly\n  }\n"]))),m=e(62559),y=(0,g.Ps)(i||(i=(0,d.Z)(["\n  query getPendingTransations {\n    pendingTransactions @client {\n      id\n      createdAt\n    }\n  }\n"]))),x=(0,g.Ps)(o||(o=(0,d.Z)(["\n  query getTransactionHistory {\n    transactionHistory @client {\n      id\n      createdAt\n    }\n  }\n"]))),j=(0,g.Ps)(u||(u=(0,d.Z)(["\n  mutation registerTestDomain($name: String!) {\n    registerTestDomain(name: $name) @client {\n      id\n    }\n  }\n"]))),R=function(t){var n;t.setTx;return(0,m.jsx)(h.m,{mutation:j,children:function(t){return(0,m.jsx)("div",{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({variables:{name:n.value}}).then((function(t){console.log(t)})),n.value=""},children:[(0,m.jsx)("input",{ref:function(t){n=t}}),(0,m.jsx)("button",{type:"submit",children:"Register subdomain"})]})})}})},b=function(t){(0,c.Z)(e,t);var n=(0,l.Z)(e);function e(){var t;(0,s.Z)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={started:!1},t}return(0,a.Z)(e,[{key:"render",value:function(){return(0,m.jsxs)(p.Fragment,{children:[(0,m.jsx)(f.A,{query:v,pollInterval:500,children:function(t){var n=t.loading,e=(t.error,t.data);if(n)return(0,m.jsx)("div",{children:"Loading web3"});var r=e.web3,i=e.people;return console.log(e),(0,m.jsxs)(p.Fragment,{children:[(0,m.jsx)("div",{children:r.accounts.length>0?"Your ETH address is ".concat(r.accounts[0]):"Unlock metamask!"}),(0,m.jsx)("div",{children:console.log(i)}),(0,m.jsx)(R,{})]})}}),(0,m.jsx)(f.A,{query:y,children:function(t){var n=t.data,e=t.loading,r=n.pendingTransactions;return e?(0,m.jsx)("div",{children:"Loading pending txs"}):(console.log(n),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Pending Transactions"}),r.map((function(t){return(0,m.jsx)("li",{tx:t.id,children:(0,m.jsx)("a",{href:"http://ropsten.etherscan.io/tx/".concat(t.id),children:t.id})})}))]}))}}),(0,m.jsx)(f.A,{query:x,children:function(t){var n=t.data,e=t.loading,r=n.transactionHistory;return e?(0,m.jsx)("div",{children:"Loading pending txs"}):(console.log(n),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Transaction History"}),r.map((function(t){return(0,m.jsx)("li",{children:(0,m.jsx)("a",{href:"http://ropsten.etherscan.io/tx/".concat(t.id),children:t.id})},t.id)}))]}))}})]})}}]),e}(p.Component),M=b},5170:function(t,n,e){e.d(n,{m:function(){return o}});var r=e(70188),i=e(83574);function o(t){var n=(0,i.D)(t.mutation,t),e=n[0],r=n[1];return t.children?t.children(e,r):null}o.propTypes={mutation:r.object.isRequired,variables:r.object,optimisticResponse:r.oneOfType([r.object,r.func]),refetchQueries:r.oneOfType([r.arrayOf(r.oneOfType([r.string,r.object])),r.func]),awaitRefetchQueries:r.bool,update:r.func,children:r.func.isRequired,onCompleted:r.func,onError:r.func,fetchPolicy:r.string}},92411:function(t,n,e){e.d(n,{A:function(){return u}});var r=e(94050),i=e(70188),o=e(89743);function u(t){var n=t.children,e=t.query,i=(0,r._T)(t,["children","query"]),u=(0,o.a)(e,i);return u?n(u):null}u.propTypes={client:i.object,children:i.func.isRequired,fetchPolicy:i.string,notifyOnNetworkStatusChange:i.bool,onCompleted:i.func,onError:i.func,pollInterval:i.number,query:i.object.isRequired,variables:i.object,ssr:i.bool,partialRefetch:i.bool,returnPartialData:i.bool}},83574:function(t,n,e){e.d(n,{D:function(){return p}});var r=e(94050),i=e(50390),o=e(31768),u=e(81900),s=e(40451),a=e(91189),c=e(25492),l=function(t){function n(n){var e=n.options,r=n.context,i=n.result,o=n.setResult,s=t.call(this,e,r)||this;return s.runMutation=function(t){void 0===t&&(t={}),s.onMutationStart();var n=s.generateNewMutationId();return s.mutate(t).then((function(t){return s.onMutationCompleted(t,n),t})).catch((function(t){var e=s.getOptions().onError;if(s.onMutationError(t,n),e)return e(t),{data:void 0,errors:t};throw t}))},s.verifyDocumentType(e.mutation,u.n_.Mutation),s.result=i,s.setResult=o,s.mostRecentMutationId=0,s}return(0,r.ZT)(n,t),n.prototype.execute=function(t){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,u.n_.Mutation),[this.runMutation,(0,r.pi)((0,r.pi)({},t),{client:this.refreshClient().client})]},n.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},n.prototype.cleanup=function(){},n.prototype.mutate=function(t){return this.refreshClient().client.mutate((0,c.J)(this.getOptions(),t))},n.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},n.prototype.onMutationCompleted=function(t,n){var e=this.getOptions(),r=e.onCompleted,i=e.ignoreResults,o=t.data,u=t.errors,a=u&&u.length>0?new s.c({graphQLErrors:u}):void 0;this.isMostRecentMutation(n)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:a}),r&&r(o)},n.prototype.onMutationError=function(t,n){this.isMostRecentMutation(n)&&this.updateResult({loading:!1,error:t,data:void 0,called:!0})},n.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},n.prototype.isMostRecentMutation=function(t){return this.mostRecentMutationId===t},n.prototype.updateResult=function(t){if(this.isMounted&&(!this.previousResult||!(0,o.D)(this.previousResult,t)))return this.setResult(t),this.previousResult=t,t},n}(a.V),d=e(857);function p(t,n){var e=(0,i.useContext)((0,d.K)()),o=(0,i.useState)({called:!1,loading:!1}),u=o[0],s=o[1],a=n?(0,r.pi)((0,r.pi)({},n),{mutation:t}):{mutation:t},c=(0,i.useRef)();var p=(c.current||(c.current=new l({options:a,context:e,result:u,setResult:s})),c.current);return p.setOptions(a),p.context=e,(0,i.useEffect)((function(){return p.afterExecute()})),p.execute(u)}}}]);
//# sourceMappingURL=TestRegistrar.ad03e9ac-59956.chunk.js.map