(self.webpackChunkens_app=self.webpackChunkens_app||[]).push([[61],{37157:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return vd}});var r=n(23430),a=n(17186),i=n(50390),s=n(89743),o=n(68476),l=n(4329),d=n(74287),c=n(10541),u=n(58461),m=n(83078),f=n(32765),p=n(60048),g=n(86816),x=n(26028),h=n(19840),v=n(62713),b=n(93642),y=n(62559),j=function(e,t){return(null===e||void 0===e?void 0:e.filter((function(e){return t===e.name})).length)>0},w=function(e){var t=e.domain,n=t.name,r=null===n||void 0===n?void 0:n.split("."),a=(0,s.a)(function(e){return(null===e||void 0===e?void 0:e.length)<3?c.iG:c.PM}(r)),i=a.data,o=(null===r||void 0===r?void 0:r.length)<3?null===i||void 0===i?void 0:i.favourites:null===i||void 0===i?void 0:i.subDomainFavourites;return(0,y.jsx)(b.Z,{domain:t,isSubDomain:(null===r||void 0===r?void 0:r.length)>2,isFavourite:j(o,n)})},Z=n(2479),E=n(18489),O=n(60606),k=n.n(O),R=n(63926),C=n(35531),T=function(e){var t=function(e,t){return function t(n,r){return e[r].on.NEXT===r?[].concat((0,C.Z)(n),[r]):t([].concat((0,C.Z)(n),[r]),e[r].on.NEXT)}([],t)}(e.states,e.initialState);return{registerReducer:function(t,n){return e.states[t].on[n]||t},hasReachedState:function(e,n){var r=t.findIndex((function(t){return t===e}));return t.findIndex((function(e){return e===n}))>=r}}},S={initialState:"PRICE_DECISION",states:{PRICE_DECISION:{on:{NEXT:"COMMIT_SENT",PREVIOUS:"PRICE_DECISION"}},COMMIT_SENT:{on:{NEXT:"COMMIT_CONFIRMED",PREVIOUS:"PRICE_DECISION"}},COMMIT_CONFIRMED:{on:{NEXT:"AWAITING_REGISTER",PREVIOUS:"COMMIT_SENT"}},AWAITING_REGISTER:{on:{NEXT:"REVEAL_SENT",PREVIOUS:"COMMIT_CONFIRMED"}},REVEAL_SENT:{on:{NEXT:"REVEAL_CONFIRMED",PREVIOUS:"AWAITING_REGISTER"}},REVEAL_CONFIRMED:{on:{NEXT:"REVEAL_CONFIRMED",PREVIOUS:"REVEAL_SENT"}}}},P=T(S),D=P.registerReducer,I=P.hasReachedState,N=n(87724);var M,F=(0,f.Z)("div",{target:"eacr2ez0"})("color:",(function(e){return 100===e.progress?"#42E068":"#dfdfdf"}),";font-size:34px;font-weight:300;position:relative;width:60px;height:60px;span{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"),A=(0,f.Z)("svg",{target:"eacr2ez1"})("stroke:#ccc;circle{stroke-dasharray:",180,";stroke-dashoffset:0;}circle.progress{stroke-dasharray:",180,";stroke-dashoffset:",(function(e){return 1.8*(e.progress-100)}),";}"),_=(0,f.Z)("div",{target:"eacr2ez2"})({name:"tag0iu",styles:"margin-left:8px;h3{margin-top:2px;font-size:14px;font-weight:600;margin-bottom:5px;}p{font-size:14px;font-weight:400;margin-top:0;}"}),B=(0,f.Z)("div",{target:"eacr2ez3"})({name:"k008qs",styles:"display:flex;"}),z=function(e){var t=e.number,n=e.text,r=e.title,a=e.progress,i=void 0===a?100:a;return(0,y.jsxs)(B,{children:[(0,y.jsxs)(F,{progress:i,children:[(0,y.jsxs)(A,{height:"60",width:"60",progress:i,children:[(0,y.jsx)("circle",{cx:"30",cy:"30",r:"28",stroke:"#dfdfdf",strokeWidth:"2",fill:"none",transform:"rotate(-90, 30, 30)"}),(0,y.jsx)("circle",{cx:"30",cy:"30",r:"28",strokeWidth:"2",stroke:"#42E068",fill:"none",className:"progress",transform:"rotate(-90, 30, 30)"})]}),(0,y.jsx)("span",{children:t})]}),(0,y.jsxs)(_,{children:[(0,y.jsx)("h3",{children:r}),(0,y.jsx)("p",{children:n})]})]})},L=n(5936),U=["title","titleId"];function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H(e,t){var n=e.title,r=e.titleId,a=V(e,U);return i.createElement("svg",q({width:9,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,M||(M=i.createElement("path",{d:"M3.1875 9.6h2.625c0 .7732-.5876 1.4-1.3125 1.4s-1.3125-.6268-1.3125-1.4zm.4688-8.2866C2.2005 1.7128 1.125 3.1218 1.125 4.7998v2.3998c0 .2212-.1684.4004-.3746.4004C.336 7.6 0 7.959 0 8.4v.6006C0 9.1108.0834 9.2.188 9.2h8.624c.1038 0 .188-.0906.188-.1994V8.4c0-.4418-.3375-.8-.7504-.8-.2068 0-.3746-.1778-.3746-.4004V4.7998c0-1.6774-1.0753-3.0868-2.5313-3.4864V.9002C5.3438.4018 4.966 0 4.5 0c-.465 0-.8438.403-.8438.9002v.4132z",fill:"#5284FF",fillRule:"evenodd"})))}var Y,W=i.forwardRef(H),$=(n.p,["title","titleId"]);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X(e,t){var n=e.title,r=e.titleId,a=G(e,$);return i.createElement("svg",K({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,Y||(Y=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("circle",{fill:"#D2D2D2",cx:5.5,cy:5.5,r:5.5}),i.createElement("path",{d:"M5.123 6.196l2.1196-2.1195a.5897.5897 0 0 1 .8339 0l.1386.1386a.5897.5897 0 0 1 0 .8339L5.6903 7.5738a.588.588 0 0 1-.4263.1726.5898.5898 0 0 1-.6389-.1192L3.143 6.1959a.5897.5897 0 0 1-.0146-.8338l.1361-.141a.5897.5897 0 0 1 .8338-.0145l1.0247.9895z",fill:"#FFF"}))))}var J,Q,ee=i.forwardRef(X);n.p,n(17082);function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Hi there";if(!("Notification"in window))return!1;ne()&&new Notification(e)}function ne(){return"granted"===Notification.permission}function re(){"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===e&&te("We will send you a notification when your name is ready")}))}var ae=(0,f.Z)("section",{target:"e198kf3f0"})("display:grid;grid-template-columns:1fr;grid-row-gap:30px;",g.ZP.large(J||(J=(0,a.Z)(["\n    grid-template-columns: repeat(3, 1fr);\n    grid-column-gap: 30px;\n    grid-template-rows: 1fr;\n  "]))),""),ie=(0,f.Z)("div",{target:"e198kf3f1"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;h2{font-family:Overpass;font-weight:300;font-size:18px;color:#2b2b2b;letter-spacing:0;margin:0;margin-bottom:5px;",g.ZP.medium(Q||(Q=(0,a.Z)(["\n      font-size: 24px;\n      color: #2B2B2B;\n      letter-spacing: 0;\n    "]))),"}p{margin:0;font-weight:400;font-family:Overpass;font-size:14px;color:#adbbcd;letter-spacing:0;}"),se=(0,f.Z)(L.Co,{target:"e198kf3f2"})({name:"6su6fj",styles:"flex-shrink:0;"}),oe=(0,f.Z)("div",{target:"e198kf3f3"})({name:"1nx6jcw",styles:"color:hsla(0,0%,82%,1);"}),le=function(e){var t=e.step,n=e.waitPercentComplete,r=(e.waitTime,(0,p.$)().t),a={PRICE_DECISION:r("register.titles.0"),COMMIT_SENT:r("register.titles.1"),COMMIT_CONFIRMED:r("register.titles.1"),AWAITING_REGISTER:r("register.titles.1"),REVEAL_SENT:r("register.titles.1"),REVEAL_CONFIRMED:r("register.titles.2")};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(ie,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{children:a[t]}),(0,y.jsx)("p",{children:r("register.favourite")})]}),ne()?(0,y.jsxs)(oe,{children:[(0,y.jsx)(ee,{style:{marginRight:5}}),r("register.notify")]}):(0,y.jsxs)(se,{type:"hollow-primary",onClick:re,children:[(0,y.jsx)(W,{style:{marginRight:5}}),r("register.notify")]})]}),(0,y.jsxs)(ae,{children:[(0,y.jsx)(z,{number:1,progress:"PRICE_DECISION"===t?0:"COMMIT_SENT"===t?50:100,title:r("register.step1.title"),text:r("register.step1.text")+" "+r("register.step1.text2")}),(0,y.jsx)(z,{number:2,progress:"PRICE_DECISION"===t||"COMMIT_SENT"===t?0:"COMMIT_CONFIRMED"===t?n:100,title:r("register.step2.title"),text:r("register.step2.text")}),(0,y.jsx)(z,{number:3,progress:"REVEAL_CONFIRMED"===t?100:"REVEAL_SENT"===t?50:0,title:r("register.step3.title"),text:r("register.step3.text")})]})]})},de=n(33032),ce=n(84322),ue=n.n(ce),me=n(6109),fe=n(74812),pe=n(5170),ge=n(7016),xe=n(15597),he=n(15130),ve=n(1227),be=n(5537),ye=n(1195),je=n(3453),we=n(34693),Ze=n(69676);var Ee,Oe=function(e){var t=e.startDatetime,n=(e.type,e.name),a=e.registrant,s=e.noMargin,o=(0,i.useState)(!1),l=(0,r.Z)(o,2),d=l[0],c=l[1],u=(0,p.$)().t,m=t.clone().add(2,"hours"),f=k().duration(m.diff(t)).asHours(),g={title:u("reminder.renewal.title",{name:n}),description:u("reminder.renewal.description"),location:u("reminder.everywhere"),startDatetime:t.format("YYYYMMDDTHHmmss"),endDatetime:m.format("YYYYMMDDTHHmmss"),duration:f},x=function(){c(!1)},h=[(0,y.jsx)(je.Z,{domainName:n,address:a,onClick:function(){c(!0)},children:u("c.email")},"email")];return(0,y.jsxs)(y.Fragment,{children:[d&&(0,y.jsx)(we.Z,{closeModal:x,children:(0,y.jsx)(Ze.Z,{address:a,onCancel:x})}),(0,y.jsx)(ye.Z,{event:g,dropDownLinks:h,noMargin:s})]})},ke=["title","titleId"];function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,t){var n=e.title,r=e.titleId,a=Ce(e,ke);return i.createElement("svg",Re({width:12,height:12,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,Ee||(Ee=i.createElement("g",{fill:"#FFF",fillRule:"evenodd"},i.createElement("path",{d:"M.8222 8.1247l.0065.0065-.768 2.6925c-.236.8263.236 1.318 1.082 1.082l2.6787-.7818.0054.0054 5.8701-5.87-3.0045-3.0047L.8222 8.1247zM11.6168 1.677L10.2791.3395c-.4524-.4525-1.2-.4525-1.6721 0L7.4857 1.4607l3.0098 3.0098 1.1213-1.1213c.4722-.4721.4722-1.2197 0-1.6721"}))))}var Se,Pe=i.forwardRef(Te),De=(n.p,n(9609));var Ie=(0,f.Z)("div",{target:"eh2r9yz0"})({name:"pori7h",styles:"display:flex;justify-content:flex-end;align-items:center;"}),Ne=(0,f.Z)(Pe,{target:"eh2r9yz1"})({name:"1sylyko",styles:"margin-right:5px;"}),Me=(0,f.Z)("span",{target:"eh2r9yz2"})({name:"vayuoy",styles:"color:#ffa600;margin-right:10px;"}),Fe=(0,f.Z)(De.r,{target:"eh2r9yz3"})({name:"13y7hp",styles:"margin-right:5px;height:12px;width:12px;"}),Ae=(0,f.Z)(me.rU,{target:"eh2r9yz4"})({name:"8mg22s",styles:"margin-right:20px;"});function _e(e){var t=e.step,n=e.incrementStep,r=e.secret,i=e.duration,s=e.label,o=e.hasSufficientBalance,l=e.txHash,d=e.setTxHash,c=e.setCommitmentTimerRunning,u=e.commitmentTimerRunning,m=e.isAboveMinDuration,f=e.refetch,p=e.refetchIsMigrated,g=e.readOnly,x=e.price,h=e.years,v=e.premium,b=e.history,j=e.t,w=e.ethUsdPrice,Z=e.account;return{PRICE_DECISION:(0,y.jsx)(pe.m,{mutation:he.g,variables:{label:s,secret:r,commitmentTimerRunning:u},onCompleted:function(e){var t=Object.values(e)[0];d(t),c(!0),n()},children:function(e){return m&&!g?o?(0,y.jsx)(L.Co,{"data-testid":"request-register-button",onClick:e,children:j("register.buttons.request")}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Me,{children:[(0,y.jsx)(Fe,{}),j("register.buttons.insufficient")]}),(0,y.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",children:j("register.buttons.request")})]}):g?(0,y.jsx)(ve.Z,{text:"<p>You are not connected to a web3 browser. Please connect to a web3 browser and try again</p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var t=e.showTooltip,n=e.hideTooltip;return(0,y.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",onMouseOver:function(){t()},onMouseLeave:function(){n()},children:j("register.buttons.request")})}}):(0,y.jsx)(L.Co,{"data-testid":"request-register-button",type:"disabled",children:j("register.buttons.request")})}}),COMMIT_SENT:(0,y.jsx)(be.Z,{txHash:l}),COMMIT_CONFIRMED:(0,y.jsx)(L.Co,{"data-testid":"disabled-register-button",type:"disabled",children:j("register.buttons.register")}),AWAITING_REGISTER:(0,y.jsx)(pe.m,{mutation:he.Nz,variables:{label:s,duration:i,secret:r},onCompleted:function(e){var t=Object.values(e)[0];d(t),n()},children:function(e){return(0,y.jsx)(y.Fragment,{children:o?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Me,{children:[(0,y.jsx)(Fe,{}),j("register.buttons.warning")]}),(0,y.jsx)(L.Co,{"data-testid":"register-button",onClick:e,children:j("register.buttons.register")})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Me,{children:[(0,y.jsx)(Fe,{}),j("register.buttons.insufficient")]}),(0,y.jsx)(L.Co,{"data-testid":"register-button",type:"disabled",children:j("register.buttons.register")})]})})}}),REVEAL_SENT:(0,y.jsx)(be.Z,{txHash:l,onConfirmed:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w&&(0,xe.F2)({transactionId:l,labels:[s],type:"register",price:new ge.Z("".concat(x._hex)).toEth().mul(w).toFixed(2),years:h,premium:v}),n();case 2:case"end":return e.stop()}}),e)})))}),REVEAL_CONFIRMED:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Oe,{css:(0,fe.iv)(Se||(Se=(0,a.Z)(["\n            margin-right: 20px;\n          "]))),name:"".concat(s,".eth"),startDatetime:k()().utc().local().add(i,"seconds").subtract(30,"days")}),(0,y.jsx)(Ae,{onClick:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([f(),p()]);case 2:b.push("/name/".concat(s,".eth"));case 3:case"end":return e.stop()}}),e)}))),"data-testid":"manage-name-button",children:j("register.buttons.manage")}),(0,y.jsxs)(L.Co,{onClick:(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([p()]);case 2:b.push("/address/".concat(Z));case 3:case"end":return e.stop()}}),e)}))),children:[(0,y.jsx)(Ne,{}),j("register.buttons.setreverserecord")]})]})}[t]}var Be,ze=function(e){var t=e.step,n=e.incrementStep,a=e.secret,s=e.duration,o=e.label,l=e.hasSufficientBalance,d=e.setTimerRunning,c=e.setCommitmentTimerRunning,u=e.commitmentTimerRunning,m=e.setBlockCreatedAt,f=e.isAboveMinDuration,g=e.refetch,x=e.refetchIsMigrated,h=e.readOnly,v=e.price,b=e.years,j=e.premium,w=e.ethUsdPrice,E=(0,p.$)().t,O=(0,Z.k6)(),k=(0,R.m)(),C=(0,i.useState)(void 0),T=(0,r.Z)(C,2),S=T[0],P=T[1];return(0,i.useEffect)((function(){return function(){"REVEAL_CONFIRMED"===t&&g()}}),[t]),(0,y.jsx)(Ie,{children:_e({step:t,incrementStep:n,secret:a,duration:s,label:o,hasSufficientBalance:l,txHash:S,setTxHash:P,setTimerRunning:d,setBlockCreatedAt:m,setCommitmentTimerRunning:c,commitmentTimerRunning:u,isAboveMinDuration:f,refetch:g,refetchIsMigrated:x,readOnly:h,price:v,years:b,premium:j,history:O,t:E,ethUsdPrice:w,account:k})})},Le=["title","titleId"];function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ve(e,t){var n=e.title,r=e.titleId,a=qe(e,Le);return i.createElement("svg",Ue({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,Be||(Be=i.createElement("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},i.createElement("circle",{fill:"hsla(0,0%,82%,1)",cx:5.5,cy:6.5,r:5.5}),i.createElement("text",{fontFamily:"Overpass-Bold, Overpass",fontSize:10,fontWeight:"bold",letterSpacing:.3125,fill:"#FFF"},i.createElement("tspan",{x:3,y:10},"?")))))}var He,Ye=i.forwardRef(Ve),We=(n.p,["title","titleId"]);function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ge(e,t){var n=e.title,r=e.titleId,a=Ke(e,We);return i.createElement("svg",$e({width:11,height:11,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,He||(He=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("circle",{fill:"#42E068",cx:5.5,cy:5.5,r:5.5}),i.createElement("path",{d:"M5.123 6.196l2.1196-2.1195a.5897.5897 0 0 1 .8339 0l.1386.1386a.5897.5897 0 0 1 0 .8339L5.6903 7.5738a.588.588 0 0 1-.4263.1726.5898.5898 0 0 1-.6389-.1192L3.143 6.1959a.5897.5897 0 0 1-.0146-.8338l.1361-.141a.5897.5897 0 0 1 .8338-.0145l1.0247.9895z",fill:"#FFF"}))))}var Xe=i.forwardRef(Ge);n.p;var Je=(0,f.Z)("div",{target:"e34hp130"})({name:"10ib5jr",styles:"margin-bottom:40px;"}),Qe={PRICE_DECISION:0,COMMIT_SENT:12.5,COMMIT_CONFIRMED:25,AWAITING_REGISTER:75,REVEAL_SENT:85,REVEAL_CONFIRMED:100},et=(0,f.Z)("div",{target:"e34hp131"})("height:20px;width:100%;border-radius:10px;margin-bottom:20px;background:",(function(e){var t=e.percentDone;return t&&"\n        linear-gradient(to right, #AFFF8C 0%, #42E068 ".concat(t,"%, transparent ").concat(t,"%),")})," rgba(66,224,104,0.1);"),tt=(0,f.Z)("div",{target:"e34hp132"})({name:"1fcsmgl",styles:"display:flex;margin-bottom:20px;"}),nt=(0,f.Z)("section",{target:"e34hp133"})("flex:",(function(e){return e.large?"2":"1"}),";display:flex;justify-content:center;border:1px dotted #ccc;border-right:none;border-top:none;position:relative;&:last-of-type{border-right:1px dotted #ccc;}"),rt=(0,f.Z)("div",{target:"e34hp134"})("display:flex;align-items:center;background:white;padding:3px 15px;font-family:Overpass;font-weight:bold;font-size:14px;letter-spacing:1px;margin-bottom:-16px;transition:0.2s;color:",(function(e){return e.completed?"hsla(134, 72%, 57%, 1)":"hsla(0,0%,82%,1)"}),";&:hover{color:",(function(e){return e.completed?"hsla(134, 72%, 57%, 1)":"hsla(227, 58%, 41%, 1)"}),";circle{fill:hsla(227,58%,41%,1);}}"),at=(0,f.Z)(Ye,{target:"e34hp135"})({name:"12tgc6y",styles:"margin-left:5px;margin-bottom:2px;transition:0.2s;"}),it=(0,f.Z)(Xe,{target:"e34hp136"})({name:"68roia",styles:"margin-left:5px;margin-bottom:2px;"});function st(e){var t=e.children,n=e.completed,r=e.text,a=e.large,i=e.icon,s=e.onMouseOver,o=e.onMouseLeave;return(0,y.jsx)(nt,{large:a,children:(0,y.jsxs)(rt,{completed:n,onMouseOver:s,onMouseLeave:o,children:[t,r," ",i]})})}var ot=function(e){var t=e.step,n=e.waitPercentComplete;if("PRICE_DECISION"===t)return null;var r=n/(100/(Qe.AWAITING_REGISTER-Qe.COMMIT_CONFIRMED))+25;return(0,y.jsxs)(Je,{children:[(0,y.jsx)(et,{percentDone:"COMMIT_CONFIRMED"!==t?Qe[t]:r}),(0,y.jsxs)(tt,{children:[(0,y.jsx)(ve.Z,{text:"<p>The first transaction is being mined on the blockchain. This should take 15-30 seconds.</p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,a=e.hideTooltip,i=I("COMMIT_CONFIRMED",t);return(0,y.jsxs)(st,{text:"Step 1",completed:i,icon:i?(0,y.jsx)(it,{}):(0,y.jsx)(at,{}),onMouseOver:function(){r()},onMouseLeave:function(){a()},children:["\xa0",n]})}}),(0,y.jsx)(ve.Z,{text:"<p>Once this step is complete, the \u2018register\u2019 button will activate. Sign up for browser notifications to remind you when the wait is up.  </p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,a=e.hideTooltip,i=I("AWAITING_REGISTER",t);return(0,y.jsxs)(st,{large:!0,text:"Step 2",completed:i,icon:i?(0,y.jsx)(it,{}):(0,y.jsx)(at,{}),onMouseOver:function(){r()},onMouseLeave:function(){a()},children:["\xa0",n]})}}),(0,y.jsx)(ve.Z,{text:"<p>Click \u2018register\u2019 to launch the second transaction and complete the registration. </p>",position:"top",border:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,a=e.hideTooltip,i=I("REVEAL_CONFIRMED",t);return(0,y.jsxs)(st,{completed:i,text:"Step 3",icon:I("REVEAL_CONFIRMED",t)?(0,y.jsx)(it,{}):(0,y.jsx)(at,{}),onMouseOver:function(){r()},onMouseLeave:function(){a()},children:["\xa0",n]})}})]})]})};var lt=(0,f.Z)("div",{target:"e1ic7b0z0"})({name:"1ytfatq",styles:"padding:30px 40px;"}),dt=(0,f.Z)("div",{target:"e1ic7b0z1"})({name:"1qv42d6",styles:"background:#f0f6fa;color:#2b2b2b;font-size:20px;padding:20px;font-weight:300;"});function ct(e){e.domain;var t=(0,p.$)().t;return(0,y.jsx)(lt,{children:(0,y.jsx)(dt,{children:t("singleName.messages.alreadyregistered")})})}var ut=n(93646),mt=n(16198),ft=n.n(mt),pt=n(82969);var gt=(0,f.Z)("div",{target:"e1ric6it0"})({name:"1lfzuwt",styles:"background-color:white;color:#d8d8d8;padding:1em;#myChart{cursor:pointer;}"}),xt=(0,f.Z)("div",{target:"e1ric6it1"})({name:"g5bgmf",styles:"display:flex;justify-content:space-between;span{margin:1em;}"}),ht=(0,f.Z)("canvas",{target:"e1ric6it2"})({name:"1tqkeyg",styles:"background-color:#e9eef6;"}),vt=(0,f.Z)("span",{target:"e1ric6it3"})({name:"1pu1kae",styles:"font-weight:bold;font-size:large;"});function bt(e){var t,n,a=e.startDate,s=e.currentDate,o=e.targetDate,l=e.endDate,d=e.now,c=e.ethUsdPrice,u=e.handleTooltip,m=e.oracle,f=e.premiumOnlyPrice,g=e.price,x=(0,pt.Z)({price:g,premium:f,ethUsdPrice:c}),h=m.getDaysRemaining(d),v=m.getHoursRemaining(d),b=m.totalDays,j=i.createRef(),w=[],Z=[],E=[],O=[],k=[],R=(0,p.$)().t,C=(0,i.useState)(!1),T=(0,r.Z)(C,2),S=T[0],P=T[1];h>7?(t=d,n=h):h>1?(t=l.clone().subtract(7,"day"),n=7):(t=l.clone().subtract(24,"hour"),n=24);for(var D=m.getAmountByDateRange(a,t),I=t.clone();l.diff(I)>0;I=I.add(1,"hour")){var N=m.getAmountByDateRange(a,I),M=I.format("YYYY-MM-DD:HH:00");Z.push(M),w.push(N),s.diff(I)>=0||s.format("YYYY-MM-DD:HH:00")===M?E.push(N):E.push(null),s.format("YYYY-MM-DD:HH:00")===M||a.format("YYYY-MM-DD:HH:00")===M||o.format("YYYY-MM-DD:HH:00")===M||o===M?O.push(3):O.push(null),o===M?k.push(2e3):k.push(null)}return(0,i.useEffect)((function(){var e=j.current.getContext("2d");ft().defaults.global.tooltips.yAlign="top",ft().defaults.global.tooltips.xAlign="center";var t=new(ft())(e,{type:"line",data:{labels:Z,datasets:[{label:"Passed",borderWidth:3,data:E,borderColor:"#2C46A6",backgroundColor:"#2C46A6",pointRadius:O,fill:!1},{label:"Estimate",borderWidth:2,data:w,borderColor:"#D8D8D8",pointBackgroundColor:"#2C46A6",pointBorderColor:"#2C46A6",fill:!1,pointRadius:O}]},options:{events:["click"],animation:{duration:0},tooltips:{enabled:!0,mode:"nearest",intersect:!1,titleAlign:"center",multiKeyBackground:"#2C46A6",callbacks:{label:function(e,t){u(e);var n="Premium: $".concat(e.yLabel.toFixed(2));if(1===e.datasetIndex)return n}}},responsive:!0,aspectRatio:5,legend:{display:!1},scales:{xAxes:[{afterFit:function(e){e.height=0},ticks:{maxTicksLimit:n,callback:function(){return""}},gridLines:{zeroLineColor:"#e9eef6",zeroLineWidth:3,color:"white",lineWidth:3,offsetGridLines:!1,drawBorder:!1}}],yAxes:[{ticks:{display:!1,max:1.1*D},gridLines:{display:!1,drawBorder:!1}}]},layout:{padding:{}}}});P(t)}),[]),S&&(S.data.datasets[0].pointRadius=O,S.data.datasets[1].pointRadius=O,S.update()),(0,y.jsxs)(gt,{children:[(0,y.jsxs)(xt,{children:[(0,y.jsxs)(vt,{children:[R("linegraph.title",{premiumInEth:x.premium})," ","ETH($",x.premiumInUsd,")"]}),(0,y.jsx)("span",{children:h>1?R("linegraph.daysRemaining",{daysRemaining:h,totalDays:b}):"".concat(v," hours remaining")})]}),(0,y.jsx)(ht,{id:"myChart",ref:j}),(0,y.jsxs)(xt,{children:[(0,y.jsxs)("span",{children:["$",parseInt(D)," "]}),(0,y.jsx)("span",{children:"$0"})]})]})}var yt=n(2299),jt=n(60249);var wt,Zt,Et,Ot,kt,Rt,Ct,Tt=function(e){var t=e.startDatetime,n=e.name,r=e.noMargin,a=e.invalid,i=(0,p.$)().t,s=t.clone().add(2,"hours"),o=k().duration(s.diff(t)).asHours(),l={title:i("reminder.release.title",{name:n}),description:i("reminder.release.description",{name:n}),location:i("reminder.everywhere"),startDatetime:t.format("YYYYMMDDTHHmmss"),endDatetime:s.format("YYYYMMDDTHHmmss"),duration:o};return(0,y.jsx)(ye.Z,{event:l,noMargin:r,invalid:a})};var St=(0,f.Z)("div",{target:"enmae6q0"})("display:grid;grid-template-columns:1fr;margin-bottom:20px;margin-top:20px;",g.ZP.medium(wt||(wt=(0,a.Z)(["\n    grid-template-columns:\n      minmax(min-content, 200px) minmax(min-content, min-content)\n      minmax(200px, 1fr) minmax(200px, min-content);\n  "]))),""),Pt=(0,f.Z)(yt.r,{target:"enmae6q1"})("display:none;",g.ZP.medium(Zt||(Zt=(0,a.Z)(["\n    display: block;\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n  "]))),""),Dt=(0,f.Z)("div",{target:"enmae6q2"})(g.ZP.medium(Et||(Et=(0,a.Z)(["\n    max-width: 220px;\n  "]))),""),It=(0,f.Z)("div",{target:"enmae6q3"})("width:100%;",g.ZP.medium(Ot||(Ot=(0,a.Z)(["\n    width: auto\n  "]))),""),Nt=(0,f.Z)("div",{target:"enmae6q4"})("margin-top:1em;",g.ZP.medium(kt||(kt=(0,a.Z)(["\n    margin: auto;\n    max-width: 220px;\n  "]))),""),Mt=(0,f.Z)("div",{target:"enmae6q5"})("font-family:Overpass;font-weight:100;font-size:22px;color:",(function(e){return e.invalid?"red":"#2b2b2b"}),";border-bottom:1px solid #dbdbdb;",g.ZP.small(Rt||(Rt=(0,a.Z)(["\n    font-size: 28px;\n  "]))),""),Ft=(0,f.Z)("div",{target:"enmae6q6"})({name:"pxau33",styles:"font-family:Overpass;font-weight:300;font-size:14px;color:#adbbcd;margin-top:10px;"}),At=(0,f.Z)(jt.Z,{target:"enmae6q7"})({name:"1qkns59",styles:"display:inline-block;width:8em;margin-bottom:0em;"});var _t=function(e){var t=e.name,n=e.invalid,r=e.className,i=e.reference,s=e.handlePremium,o=e.targetPremium,l=e.targetDate,d=(0,p.$)().t;return(0,y.jsxs)(St,{className:r,ref:i,children:[(0,y.jsxs)(Dt,{children:[(0,y.jsx)(At,{invalid:n,wide:!1,placeholder:"$0",value:o,onChange:function(e){s(e.target)}}),(0,y.jsx)(Ft,{children:d("register.premium.title")})]}),(0,y.jsx)(Pt,{}),(0,y.jsxs)(It,{children:[(0,y.jsx)(Mt,{invalid:n,children:n?d("register.premium.invalid"):"".concat((0,N.p6)(l))}),(0,y.jsx)(Ft,{children:d("register.premium.dateDescription")})]}),(0,y.jsx)(Nt,{children:(0,y.jsx)(Tt,{css:(0,fe.iv)(Ct||(Ct=(0,a.Z)(["\n            margin-right: 20px;\n          "]))),name:t,startDatetime:l.utc().local(),invalid:n})})]})},Bt=n(53049);var zt,Lt=function(e){return window.localStorage.getItem("progress")?JSON.parse(window.localStorage.getItem("progress"))[e]:null},Ut=function(e,t){var n,r={};(n=window.localStorage.getItem("progress"))&&(r=JSON.parse(n)),r[e]=(0,E.Z)((0,E.Z)({},r[e]),t),window.localStorage.setItem("progress",JSON.stringify(r))},qt=function(e){var t,n={};(t=window.localStorage.getItem("progress"))&&(n=JSON.parse(t)),delete n[e],window.localStorage.setItem("progress",JSON.stringify(n))},Vt=function(e){var t,n,r=e.checkCommitment,a=e.domain,i=e.networkId,s=e.states,o=e.step,l=e.dispatch,d=e.secret,c=e.setSecret,u=e.years,m=e.setYears,f=e.timerRunning,p=e.setTimerRunning,g=e.waitUntil,x=e.setWaitUntil,h=e.secondsPassed,v=e.setSecondsPassed,b=e.commitmentExpirationDate,y=e.setCommitmentExpirationDate,j=e.now,w=Object.keys(s).indexOf(o),Z="".concat(i,"-").concat(a.label);switch(t=Lt(Z),d||(t&&t.secret?c(t.secret):c("0x"+Bt.randomBytes(32).toString("hex"))),u||(t&&t.years?m(t.years):m(1)),g||t&&t.waitUntil&&x(t.waitUntil),h||t&&t.secondsPassed&&v(t.secondsPassed),b||t&&t.commitmentExpirationDate&&y(t.commitmentExpirationDate),n=Object.keys(s).indexOf(t&&t.step)-w>0,t&&j&&(t.commitmentExpirationDate&&k()(t.commitmentExpirationDate).isSameOrBefore(j)?qt(Z):n&&l("NEXT")),o){case"PRICE_DECISION":if(t)if(t.secret&&t.years)new Date(1e3*r)>0?(l("NEXT"),l("NEXT")):Ut(Z,{step:o,secret:d,years:u});else Ut(Z,{step:o,secret:d,years:u});else Ut(Z,{step:o,secret:d});break;case"COMMIT_CONFIRMED":Ut(Z,{step:o,secret:d,waitUntil:g,secondsPassed:h,commitmentExpirationDate:b}),f||p(!0);break;case"AWAITING_REGISTER":f&&p(!1)}return d},Ht=(0,o.Ps)(zt||(zt=(0,a.Z)(["\n  query web3 @client {\n    accounts\n    networkId\n    network\n    isReadOnly\n    isSafeApp\n  }\n"]))),Yt=function(){var e=(0,s.a)(Ht),t=e.data,n=e.loading,r=e.error,a=e.refetch;if(!t)return{accounts:void 0,network:void 0,networkId:void 0,loading:n,error:r};var i=t.accounts,o=t.network,l=t.networkId,d=t.isReadOnly;return{accounts:d?[]:i,network:o,networkId:l,loading:n,refetch:a,error:r,isReadOnly:d,isSafeApp:t.isSafeApp}},Wt=n(27853),$t=n(84531),Kt=3600,Gt=function(){function e(t,n){(0,Wt.Z)(this,e),this.algorithm=n,"exponential"===n?(this.startingPremiumInUsd=1e8,this.totalDays=21,this.lastValue=this.startingPremiumInUsd*Math.pow(.5,this.totalDays)):(this.startingPremiumInUsd=1e5,this.totalDays=28),this.releasedDate=t.clone().add(90,"days"),this.zeroPremiumDate=this.releasedDate.clone().add(this.totalDays,"days"),this.diff=this.zeroPremiumDate.diff(this.releasedDate),this.rate=this.startingPremiumInUsd/this.diff,this.diffInHour=this.zeroPremiumDate.diff(this.releasedDate,"hour"),this.hourlyRate=this.startingPremiumInUsd/this.diffInHour}return(0,$t.Z)(e,[{key:"getDaysPast",value:function(e){return parseInt(e.diff(this.releasedDate)/86400/1e3)}},{key:"getHoursPast",value:function(e){return parseInt(e.diff(this.releasedDate)/Kt/1e3)}},{key:"getDaysRemaining",value:function(e){return this.totalDays-this.getDaysPast(e)}},{key:"getHoursRemaining",value:function(e){return 24*this.totalDays-this.getHoursPast(e)}},{key:"getTargetDateByAmount",value:function(e){var t;return"exponential"===this.algorithm?(t=e<this.lastValue?this.totalDays:Math.log((e+this.lastValue)/this.startingPremiumInUsd)/Math.log(.5),this.releasedDate.clone().add(24*t*60,"minutes")):this.zeroPremiumDate.clone().subtract(e/this.rate/1e3,"second")}},{key:"getTargetAmountByDaysPast",value:function(e){if("exponential"===this.algorithm){var t=this.startingPremiumInUsd*Math.pow(.5,e);return t>=this.lastValue?t-this.lastValue:0}return(this.totalDays-e)*(24*this.hourlyRate)}},{key:"getAmountByDateRange",value:function(e,t){var n=t.diff(e)/Kt/1e3/24;return this.getTargetAmountByDaysPast(n)}}]),e}();var Xt,Jt,Qt=(0,f.Z)("div",{target:"eo8b4f50"})({name:"19lgokg",styles:"padding:20px 40px;"}),en=(0,f.Z)("div",{target:"eo8b4f51"})({name:"18o4zck",styles:"background-color:#fef6e9;color:black;padding:1em;margin-bottom:1em;"}),tn=function(e){var t,n,a,o,l=e.domain,u=e.waitTime,m=e.refetch,f=e.refetchIsMigrated,g=e.readOnly,x=e.registrationOpen,h=(0,p.$)().t,v=(0,i.useState)(!1),b=(0,r.Z)(v,2),j=b[0],w=b[1],Z=Yt().networkId,E=(0,i.useReducer)(D,S.initialState),O=(0,r.Z)(E,2),C=O[0],T=O[1],P=function(){return T("NEXT")},I=(0,i.useState)(!1),M=(0,r.Z)(I,2),F=M[0],A=M[1],_=(0,i.useState)(0),B=(0,r.Z)(_,2),z=B[0],L=B[1],U=(0,i.useState)(!1),q=(0,r.Z)(U,2),V=q[0],H=q[1],Y=(0,i.useState)(!1),W=(0,r.Z)(Y,2),$=W[0],K=W[1],G=(0,i.useState)(null),X=(0,r.Z)(G,2),J=X[0],Q=X[1],ee=(0,i.useState)(null),ne=(0,r.Z)(ee,2),re=ne[0],ae=ne[1],ie=(0,i.useState)(!1),se=(0,r.Z)(ie,2),oe=se[0],de=se[1],ce=(0,i.useState)(!1),ue=(0,r.Z)(ce,2),me=ue[0],fe=ue[1],pe=(0,i.useState)(!1),ge=(0,r.Z)(pe,2),xe=ge[0],he=ge[1],ve=(0,s.a)(c.GH),be=ve.data,ye=(be=void 0===be?{}:be).getEthPrice,je=ve.loading,we=(0,s.a)(c.zc).data,Ze=(we=void 0===we?{}:we).getPriceCurve,Ee=(0,d.Fh)(),Oe=Ee.loading,ke=Ee.price,Re=(0,d.rL)().block,Ce=(0,i.useState)(!1),Te=(0,r.Z)(Ce,2),Se=Te[0],Pe=Te[1],De=(0,s.a)(c.ql,{variables:{waitUntil:re},fetchPolicy:"no-cache"}).data,Ie=(De=void 0===De?{}:De).waitBlockTimestamp,Ne=(0,R.m)(),Me=(0,s.a)(c.ku,{variables:{address:Ne},fetchPolicy:"no-cache"}).data,Fe=(Me=void 0===Me?{}:Me).getBalance,Ae=(0,s.a)(c.rI,{fetchPolicy:"no-cache"}).data,_e=(Ae=void 0===Ae?{}:Ae).getMaximumCommitmentAge;Re&&(t=k()(1e3*Re.timestamp)),!xe&&_e&&J&&he(k()(J).add(_e,"second"));var Be=(0,s.a)(c.n3,{variables:{label:l.label,secret:j,commitmentTimerRunning:$},fetchPolicy:"no-cache"}).data,Le=(Be=void 0===Be?{}:Be).checkCommitment,Ue=void 0!==Le&&Le;Vt({checkCommitment:Ue,domain:l,networkId:Z,states:S.states,dispatch:T,step:C,secret:j,setSecret:w,years:F,setYears:A,timerRunning:V,setTimerRunning:H,waitUntil:re,setWaitUntil:ae,secondsPassed:z,setSecondsPassed:L,commitmentExpirationDate:xe,setCommitmentExpirationDate:he,now:t}),(0,d.Yz)((function(){J&&!re&&ae(J+1e3*u),z<u?L((function(e){return e+1})):(Ie&&V&&(P(),te("".concat(l.name," ").concat(h("register.notifications.ready")))),H(!1))}),V?1e3:null),(0,d.Yz)((function(){Ue>0?(P(),H(!0),K(!1)):K(new Date)}),$?1e3:null);var qe,Ve=parseFloat(F),He=(0,N.o6)(F),Ye=(0,s.a)(c.hy,{variables:{duration:He,label:l.label,commitmentTimerRunning:$}}),We=Ye.data,$e=(We=void 0===We?{}:We).getRentPrice,Ke=Ye.loading,Ge=(0,s.a)(c.hy,{variables:{duration:0,label:l.label,commitmentTimerRunning:$}}),Xe=Ge.data,Je=(Xe=void 0===Xe?{}:Xe).getRentPrice;Ge.loading;!J&&Ue>0&&Q(1e3*Ue),Fe&&$e&&(qe=Fe.gt($e)),J&&!re&&ae(J+1e3*u);var Qe=Ve>2419200/N.dM,et=z/u*100,tt=k()(l.expiryTime),nt=new Gt(tt,Ze),rt=nt.releasedDate,at=nt.zeroPremiumDate,it=nt.startingPremiumInUsd;if(!x)return(0,y.jsx)(ct,{domain:l});if(je||Oe)return(0,y.jsx)(y.Fragment,{});oe||(de(at),fe(nt.getTargetAmountByDaysPast(nt.getDaysPast(at)))),Re&&(n=t.isBetween(rt,at),a=nt.getTargetAmountByDaysPast(nt.getDaysPast(t)),o=t.isBetween(rt,at));return(0,y.jsxs)(Qt,{children:["PRICE_DECISION"===C&&(0,y.jsx)(ut.Z,{name:l.label,duration:He,years:F,setYears:A,ethUsdPriceLoading:je,ethUsdPremiumPrice:a,ethUsdPrice:ye,gasPrice:ke,loading:Ke,price:$e,premiumOnlyPrice:Je,underPremium:o,displayGas:!0}),n?(0,y.jsxs)(en,{children:[(0,y.jsx)("h2",{children:h("register.premiumWarning.title")}),(0,y.jsx)("p",{children:h("exponential"===Ze?"register.premiumWarning.exponentialWarningDescripiton":"register.premiumWarning.description")}),(0,y.jsx)(bt,{startDate:rt,currentDate:t,targetDate:oe,endDate:at,targetPremium:me,ethUsdPrice:ye,handleTooltip:function(e){var t=e.yLabel;me!==t&&(de(nt.getTargetDateByAmount(t)),fe(t.toFixed(2)))},underPremium:o,oracle:nt,price:$e,now:t,premiumOnlyPrice:Je}),(0,y.jsx)(_t,{handlePremium:function(e){var t=e.value.replace("$","");!isNaN(t)&&parseInt(t||0)<=it?(me!==t&&(de(nt.getTargetDateByAmount(t)),fe(t)),Pe(!1)):Pe(!0)},targetPremium:me,name:l.name,invalid:Se,targetDate:oe})]}):"",(0,y.jsx)(le,{step:C,waitTime:u,waitPercentComplete:et}),(0,y.jsx)(ot,{step:C,waitPercentComplete:et}),(0,y.jsx)(ze,{hasSufficientBalance:qe,waitTime:u,incrementStep:P,decrementStep:function(){return T("PREVIOUS")},secret:j,step:C,label:l.label,duration:He,secondsPassed:z,timerRunning:V,setTimerRunning:H,setCommitmentTimerRunning:K,commitmentTimerRunning:$,setBlockCreatedAt:Q,refetch:m,refetchIsMigrated:f,isAboveMinDuration:Qe,readOnly:g,price:$e,years:F,premium:a,ethUsdPrice:!je&&ye})]})},nn=function(e){var t=(0,s.a)(c.b),n=t.data,r=t.loading,a=t.error;if(r)return(0,y.jsx)(u.Z,{withWrap:!0,large:!0});a&&console.log(a);var i=n.getMinimumCommitmentAge;return console.log("\u7ec4\u4ef6NameRegisterDataWrapper",e,i),(0,y.jsx)(tn,(0,E.Z)({waitTime:i},e))},rn=n(83738),an=n(92411),sn=n(83574),on=n(1566);var ln=(0,f.Z)("section",{target:"e1uay9570"})({name:"46b038",styles:"margin-top:30px;"}),dn=(0,f.Z)("div",{target:"e1uay9571"})("display:flex;flex-direction:column;margin-bottom:20px;",g.ZP.small(Xt||(Xt=(0,a.Z)(["\n    margin-bottom: 0;\n    flex-direction: row;\n  "]))),""),cn=(0,f.Z)(jt.Z,{target:"e1uay9572"})("width:100%;margin-right:20px;margin-bottom:20px;",g.ZP.small(Jt||(Jt=(0,a.Z)(["\n    margin-bottom: 0;\n  "]))),"");var un=function(e){var t=e.domain,n=e.refetch,a=(0,d.Y7)(),i=a.state,s=a.actions,o=(0,p.$)().t,c=i.editing,u=i.newValue,m=i.txHash,f=i.pending,g=i.confirmed,x=s.startEditing,h=s.stopEditing,v=s.updateValue,b=s.startPending,j=s.setConfirmed,w=u.length>0&&(0,l.KH)(u),Z=!w&&u.length>0,E=(0,sn.D)(he.Ur,{onCompleted:function(e){e&&(b(Object.values(e)[0]),v(""))}}),O=(0,r.Z)(E,1)[0];return(0,y.jsx)(ln,{children:(0,y.jsxs)(y.Fragment,{children:[c?null:f&&!g?(0,y.jsx)(be.Z,{txHash:m,onConfirmed:function(){j(),n()}}):(0,y.jsxs)(L.Co,{onClick:x,"data-testid":"addsubdomain",children:["+ ",o("singleName.subdomains.add")]}),c&&(0,y.jsxs)(dn,{children:[(0,y.jsx)(cn,{value:u,onChange:function(e){return v(e.target.value)},valid:w,invalid:Z,placeholder:"Type in a label for your subdomain",large:!0}),w?(0,y.jsx)(on.ZP,{stopEditing:h,isValid:w,mutation:function(){O({variables:{name:"".concat(u,".").concat(t.name)}}).then((function(){n()}))}}):(0,y.jsx)(on.ZP,{stopEditing:h,disabled:!0})]})]})})},mn=n(90882),fn=n(98687),pn=n(41149),gn=["domain","isOwner","loadingIsParentMigrated","isParentMigratedToNewRegistry","isMigratedToNewRegistry","loadingIsMigrated"];var xn=(0,f.Z)("div",{target:"e13xwi7f0"})({name:"eiu6m8",styles:"padding-bottom:30px;padding-left:40px;padding-right:40px;"}),hn=(0,f.Z)(h.H2,{target:"e13xwi7f1"})({name:"10cw8yj",styles:"padding:20px 0 50px;text-align:center;color:#ccd4da;"});function vn(e){var t=e.domain,n=e.canAddSubdomain;return(0,y.jsx)(an.A,{query:c.hE,variables:{name:t.name},children:function(e){var r=e.loading,a=e.error,i=e.data,s=e.refetch,o=i&&i.getSubDomains&&i.getSubDomains.subDomains&&i.getSubDomains.subDomains.filter((function(e){return 0!==parseInt(e.owner,16)})),l=o&&0===o.length;return a&&console.log("error getting subdomains",a),r?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(bn,{domain:t,refetch:s,canAddSubdomain:n}),(0,y.jsx)(u.Z,{withWrap:!0,large:!0})]}):l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(bn,{domain:t,refetch:s,canAddSubdomain:n}),(0,y.jsx)(hn,{children:"No subdomains have been added."})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(bn,{domain:t,refetch:s,canAddSubdomain:n}),o&&o.map((function(e){return(0,y.jsx)(mn.Z,{name:e.name,owner:e.owner,labelhash:e.labelHash,canDeleteSubdomain:n,refetch:s})}))]})}})}function bn(e){var t=e.domain,n=e.refetch;return e.canAddSubdomain?(0,y.jsx)(un,{domain:t,refetch:n}):null}var yn,jn=function(e){var t=e.domain,n=e.isOwner,r=e.loadingIsParentMigrated,a=e.isParentMigratedToNewRegistry,i=e.isMigratedToNewRegistry,s=e.loadingIsMigrated,o=(0,rn.Z)(e,gn),l=(0,p.$)().t,d=n&&!r&&!s&&a&&i;return(0,y.jsx)(xn,(0,E.Z)((0,E.Z)({},o),{},{children:0!==parseInt(t.owner,16)?(0,y.jsx)(an.A,{query:c.oX,variables:{id:(0,fn.getNamehash)(t.name)},children:function(e){var r=e.loading,a=e.error,i=e.data,s=e.refetch,o=i&&i.domain&&i.domain.subdomains&&i.domain.subdomains.filter((function(e){return 0!==parseInt(e.owner.id,16)}));return!a&&i&&i.domain?r?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(u.Z,{withWrap:!0,large:!0})}):o&&0===o.length?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(bn,{domain:t,refetch:s,canAddSubdomain:d}),(0,y.jsx)(hn,{children:l("singleName.subdomains.nosubdomains")})]}):null===i.domain?(0,y.jsx)(vn,{domain:t,isOwner:n,canAddSubdomain:d}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(bn,{domain:t,refetch:s,canAddSubdomain:d}),o.map((function(e){var n,r;return r="[root]"===t.name?"":".".concat(t.name),n=null!==e.labelName?"".concat(e.labelName).concat(r):"".concat((0,pn.M0)(e.labelhash)).concat(r),(0,y.jsx)(mn.Z,{showBlockies:!0,name:n,isMigrated:e.isMigrated,owner:e.owner.id,labelhash:e.labelHash,isSubdomain:!0,canDeleteSubdomain:d,refetch:s})}))]}):(console.error("Unable to get subdomains from subgraph, falling back to web3 ",a),(0,y.jsx)(vn,{domain:t,isOwner:n,canAddSubdomain:d}))}}):(0,y.jsx)(hn,{children:l("singleName.subdomains.nosubdomains")})}))},wn=[{state:"ENABLE_DNSSEC",title:"Problem fetching data from DNS",displayError:!0},{state:"ENABLE_DNSSEC",title:"DNS entry does not exist.",displayError:!0},{state:"ENABLE_DNSSEC",title:"Please enable DNSSEC"},{state:"ADD_TEXT",title:"Please add text record into _ens.name.tld"},{state:"ADD_TEXT",title:"DNS Record is invalid",displayError:!0},{state:"SUBMIT_PROOF",title:"Ready to register",explainer:"*Click 'refresh' if you make changes to the domain in the DNS Registrar."},{state:"SUBMIT_PROOF",title:"DNS is out of sync",explainer:"The Controller and DNS Owner are out of sync. Click 'sync' to make the DNS Owner the Controller. Click 'refresh' if you make changes to the domain in the DNS Registrar.",outOfSync:!0},{state:"SUBMIT_PROOF",title:"Registry is out of date",explainer:"Click 'sync' to make the DNS Owner the Controller. Click 'refresh' if you make changes to the domain in the DNS Registrar.",outOfSync:!0},{state:"ADD_TEXT",title:"DNS Record does not exist",displayError:!0}],Zn=n(48114),En=n(28003),On=["title","titleId"];function kn(){return kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kn.apply(this,arguments)}function Rn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cn(e,t){var n=e.title,r=e.titleId,a=Rn(e,On);return i.createElement("svg",kn({width:"25px",height:"20px",viewBox:"0 0 25 20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,yn||(yn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"Registrar-Icon"},i.createElement("g",null,i.createElement("rect",{id:"Rectangle-2",fill:"#4B84FF",x:0,y:0,width:16,height:20,rx:3}),i.createElement("path",{d:"M20,15.8125 C20,15.928875 20.0525,16.04 20.1465,16.1218125 L22.1465,17.8718125 C22.244,17.957125 22.372,18 22.5,18 C22.628,18 22.756,17.957125 22.8535,17.8718125 L24.8535,16.1218125 C24.9475,16.04 25,15.928875 25,15.8125 L25,4 L20,4 L20,15.8125 Z",id:"Fill-4",fill:"#4B84FF"}),i.createElement("path",{d:"M22,0 L23,0 C24.1045695,-2.02906125e-16 25,0.8954305 25,2 L25,3 L20,3 L20,2 C20,0.8954305 20.8954305,2.02906125e-16 22,0 Z",id:"Rectangle-6",fill:"#4B84FF"}),i.createElement("rect",{id:"Rectangle-3",fill:"#FFFFFF",transform:"translate(6.000000, 5.000000) scale(1, -1) translate(-6.000000, -5.000000) ",x:2,y:4,width:8,height:2,rx:1}),i.createElement("rect",{id:"Rectangle-3-Copy",fill:"#FFFFFF",transform:"translate(6.000000, 9.000000) scale(1, -1) translate(-6.000000, -9.000000) ",x:2,y:8,width:8,height:2,rx:1}))))))}var Tn,Sn=i.forwardRef(Cn),Pn=(n.p,n(59528));var Dn=(0,f.Z)("div",{target:"e1t0x4r30"})({name:"wvx5d0",styles:"background:#f0f6fa;padding:20px 40px;margin-bottom:40px;"}),In=(0,f.Z)("header",{target:"e1t0x4r31"})({name:"1pv6511",styles:"display:flex;position:relative;align-items:center;&:hover{cursor:pointer;}"}),Nn=(0,f.Z)(Pn.Z,{target:"e1t0x4r32"})("position:absolute;right:0;top:50%;transform:translateY(-50%) ",(function(e){return e.rotated?"rotate(0)":"rotate(-90deg)"}),";"),Mn=(0,f.Z)("h2",{target:"e1t0x4r33"})({name:"1bux7f4",styles:"margin:0;margin-left:10px;font-size:20px;font-weight:300;"}),Fn=(0,f.Z)("div",{target:"e1t0x4r34"})("display:",(function(e){return e.open?"flex":"none"}),";flex-direction:column;",g.ZP.large(Tn||(Tn=(0,a.Z)(["\n    flex-direction: row;\n  "]))),""),An=(0,f.Z)("section",{target:"e1t0x4r35"})({name:"jq9e8o",styles:"margin-right:40px;&:last-child{margin-right:0;}h3{font-size:18px;font-weight:300;}p{font-size:14px;font-weight:300;}"});var _n=function(e){var t=e.initialState,n=void 0!==t&&t,a=(0,p.$)().t,s=(0,i.useState)(n),o=(0,r.Z)(s,2),l=o[0],d=o[1],c=(0,i.useState)(n),u=(0,r.Z)(c,2),m=u[0],f=u[1];return m!==n&&(f(n),d(n)),(0,y.jsxs)(Dn,{children:[(0,y.jsxs)(In,{onClick:function(){return d(!l)},children:[(0,y.jsx)(Sn,{}),(0,y.jsx)(Mn,{children:a("singleName.learnmore.title")}),(0,y.jsx)(Nn,{rotated:l?1:0})]}),(0,y.jsxs)(Fn,{open:l,children:[(0,y.jsxs)(An,{children:[(0,y.jsx)("h3",{children:a("singleName.learnmore.step1.title")}),(0,y.jsx)("p",{children:a("singleName.learnmore.step1.text")})]}),(0,y.jsxs)(An,{children:[(0,y.jsx)("h3",{children:a("singleName.learnmore.step2.title")}),(0,y.jsx)("p",{children:a("singleName.learnmore.step2.text")})]}),(0,y.jsxs)(An,{children:[(0,y.jsx)("h3",{children:a("singleName.learnmore.step3.title")}),(0,y.jsx)("p",{children:a("singleName.learnmore.step3.text")})]})]})," "]})};var Bn,zn,Ln,Un,qn,Vn,Hn,Yn=(0,f.Z)("div",{target:"e1qt7kvb0"})({name:"1y5545",styles:"display:flex;justify-content:space-between;align-items:center;font-size:18px;color:#2b2b2b;padding:20px 35px;background:hsla(37,91%,55%,0.1);margin-bottom:20px;"}),Wn=(0,f.Z)("div",{target:"e1qt7kvb1"})({name:"171h33i",styles:"width:calc(100% - 120px);padding-right:20px;"}),$n=(0,f.Z)("p",{target:"e1qt7kvb2"})({name:"1bhkadk",styles:"font-size:14px;color:#2b2b2b;font-weight:500;"}),Kn=(0,f.Z)(L.U9,{target:"e1qt7kvb3"})({name:"1nxjwa5",styles:"flex:2 1 auto;"});function Gn(e){var t,n=e.domain,a=e.account,i=e.dnssecmode,o=e.refetchIsMigrated,l=e.isParentMigratedToNewRegistry,u=e.loadingIsParentMigrated,m=(0,p.$)().t,f=(0,d.Y7)(),g=f.state,x=f.actions,h=g.txHash,v=g.pending,b=g.confirmed,j=x.startPending,w=x.setConfirmed,Z=(0,s.a)(c.EZ,{variables:{address:n.owner}}),E=Z.data,O=(E=void 0===E?{}:E).isContractController,k=(Z.loading,(0,sn.D)(he.QX,{variables:{name:n.name,address:n.owner},onCompleted:function(e){j(Object.values(e)[0])}})),R=(0,r.Z)(k,1)[0];t=!O&&(!u&&l&&a===n.parentOwner);var C=m("registrymigration.messages.controller"),T=(0,y.jsx)(Zn.c,{i18nKey:"registrymigration.messages.default",values:{parent:n.parent}}),S=(0,y.jsx)(Zn.c,{i18nKey:"registrymigration.messages.parentmigrate",values:{parent:n.parent}}),P=m("registrymigration.messages.dnssec");return(0,y.jsxs)(Yn,{children:[(0,y.jsxs)(Wn,{children:[O?C:l?i?P:T:S,"eth"!==n.parent&&!i&&(0,y.jsx)($n,{children:m("registrymigration.donotaccept")})]}),v&&!b&&h?(0,y.jsx)(be.Z,{txHash:h,onConfirmed:function(){w(),o()}}):(0,y.jsx)(Kn,{"data-testid":"registry-migrate-button-".concat(t?"enabled":"disabled"),onClick:t?R:function(){},type:t?"hollow-primary":"hollow-primary-disabled",href:"#",children:m("c.migrate")})]})}var Xn=(0,f.Z)("div",{target:"ej4i8zc0"})("display:flex;justify-content:flex-start;flex-direction:column;margin-bottom:20px;",g.ZP.small(Bn||(Bn=(0,a.Z)(["\n    align-items: center;\n    margin-bottom: 20px;\n  "])))," ",(function(e){return e.uneditable?g.ZP.small(zn||(zn=(0,a.Z)(["\n    flex-direction: row;\n  "]))):g.ZP.small(Ln||(Ln=(0,a.Z)(["flex-direction: row;"])))}),""),Jn=(0,f.Z)("div",{target:"ej4i8zc1"})("color:",(function(e){return e.greyed?"#CCD4DA":"2b2b2b"}),";font-size:14px;letter-spacing:0px;font-weight:600;text-transform:uppercase;flex-shrink:0;display:flex;margin-bottom:20px;",g.ZP.small(Un||(Un=(0,a.Z)(["\n    align-items: center;\n    margin-bottom: 0;\n    font-size: 16px;\n    max-width: 220px;\n    min-width: 180px;\n  "]))),""),Qn=(0,f.Z)("div",{target:"ej4i8zc2"})("font-size:14px;font-weight:100;font-family:Overpass Mono;white-space:nowrap;overflow:hidden;display:inline-flex;text-overflow:ellipsis;",g.ZP.small(qn||(qn=(0,a.Z)(["\n    font-size: 18px;\n    align-items: center;\n  "])))," ",(function(e){return e.editing&&e.editable&&g.ZP.small(Vn||(Vn=(0,a.Z)(["\n      padding-right: 5px;\n    "])))})," a{display:flex;overflow:hidden;}"),er=(0,f.Z)("div",{target:"ej4i8zc3"})("display:flex;justify-content:flex-start;position:relative;flex-direction:column;width:100%;",(function(e){return e.editing&&"margin-bottom: 30px"}),";transition:0.3s;",g.ZP.small(Hn||(Hn=(0,a.Z)(["\n    flex-direction: row;\n    align-items: center;\n  "]))),""),tr=n(10627),nr=n(36222),rr=n(34952),ar=n(31188),ir=n(71186),sr=n(35720),or=n(73379);var lr,dr=(0,f.Z)(me.rU,{target:"e1la3kvw0"})({name:"93uuk2",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;font-family:Overpass Mono;"}),cr=function(e){var t=e.children,n=e.address,r=e.className,a=e.ariaLabel;return(0,y.jsx)(dr,{to:"/address/".concat(n),className:r,"aria-label":a,children:t})},ur=["title","titleId"];function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pr(e,t){var n=e.title,r=e.titleId,a=fr(e,ur);return i.createElement("svg",mr({width:17,height:17,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,lr||(lr=i.createElement("g",{fill:"#ADBBCD",fillRule:"evenodd"},i.createElement("path",{d:"M1.165 11.51l.009.01-1.088 3.814c-.334 1.17.334 1.867 1.533 1.532l3.795-1.107.007.007 8.316-8.315-4.256-4.257-8.316 8.316zM16.457 2.376L14.562.48c-.64-.641-1.7-.641-2.369 0l-1.588 1.588 4.264 4.264 1.588-1.588c.669-.67.669-1.728 0-2.37"}))))}var gr=i.forwardRef(pr),xr=(n.p,(0,f.Z)(gr,{target:"etri3e90"})((function(e){return e.disabled&&"\n     g {\n       fill: #ADBBCD;\n     }\n  "})," &:hover{g{transition:0.2s;fill:#5384fe;}cursor:pointer;}",(function(e){return e.disabled&&"\n    &:hover {\n      cursor: default;\n      g {\n        fill: #ADBBCD;\n      }\n    }\n  "}),"")),hr=n(91923),vr=n(77609),br=n(33034);var yr=(0,f.Z)("span",{target:"eb6iuf10"})({name:"1uy5cri",styles:"margin:0 5px;position:relative;&:hover{cursor:pointer;}"}),jr=(0,f.Z)("span",{target:"eb6iuf11"})({name:"6xix1i",styles:"font-size:16px;"});var wr,Zr,Er,Or,kr,Rr=function(e){var t=e.value,n=e.iconColour,a=(0,i.useState)(!1),s=(0,r.Z)(a,2),o=s[0],l=s[1];return(0,y.jsx)(yr,{children:o?(0,y.jsx)(jr,{children:"Copied"}):(0,y.jsx)(br.CopyToClipboard,{text:t,onCopy:function(){l(!0),setTimeout((function(){return l(!1)}),1e3)},children:(0,y.jsx)("svg",{width:"13",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsxs)("g",{fill:n||"#5384FE",fillRule:"nonzero",children:[(0,y.jsx)("path",{d:"M11.937 16H.968C.444 16 0 15.56 0 15.004V.882C0 .392.381 0 .857 0h6.778c.38 0 .682.31.682.702a.687.687 0 01-.682.702h-6.27V14.63h10.27V5.176c0-.392.302-.703.682-.703.381 0 .683.31.683.703v9.746c-.016.588-.492 1.078-1.063 1.078z"}),(0,y.jsx)("path",{d:"M7.926 6a.864.864 0 01-.64-.259C7.101 5.551 7 5.275 7 4.947V.907h.724H7c0-.155 0-.638.454-.845.169-.07.505-.156.875.207l4.376 4.212c.27.259.37.621.236.95-.118.327-.438.534-.825.534L7.926 6zm.504-3.625v2.14l2.222-.017L8.43 2.375z"})]})})})})};var Cr=(0,f.Z)(vr.Z,{target:"em9ajyt0"})({name:"1r2f04i",styles:"margin-bottom:10px;"}),Tr=(0,f.Z)(cr,{target:"em9ajyt1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Sr=(0,f.Z)("span",{target:"em9ajyt2"})({name:"1uaoyub",styles:"display:block;align-items:center;overflow:hidden;text-overflow:ellipsis;"}),Pr=(0,f.Z)(hr.Z,{target:"em9ajyt3"})({name:"6su6fj",styles:"flex-shrink:0;"}),Dr=(0,f.Z)(L.Co,{target:"em9ajyt4"})({name:"1s16w59",styles:"width:130px;"}),Ir=(0,f.Z)("span",{target:"em9ajyt5"})("color:#f6412d;margin-right:auto;margin-bottom:1em;",g.ZP.small(wr||(wr=(0,a.Z)(["\n    margin-bottom: 0em;\n  "]))),""),Nr=(0,f.Z)(Xn,{target:"em9ajyt6"})("flex-direction:column;min-height:30px;background:",(function(e){var t=e.editing;return"warning"===e.backgroundStyle?"transparent":t?"#F0F6FA":"transparent"}),";padding:",(function(e){return e.editing?"20px":"0"}),";",(function(e){return e.editing?"margin-bottom: 20px;":""})," transition:0.3s;",(function(e){return e.editing&&g.ZP.small(Zr||(Zr=(0,a.Z)([" flex-direction: column;"])))}),";"),Mr=(0,f.Z)(Qn,{target:"em9ajyt7"})((function(e){return e.expiryDate&&"\n      overflow: inherit;\n      display: flex;\n       align-items: flex-start;\n      flex-direction: column;\n  "})," ",(function(e){return e.expiryDate&&g.ZP.medium(Er||(Er=(0,a.Z)(["\n      margin-top: -16px;\n      align-items: center;\n      flex-direction: row;\n  "])))}),""),Fr=(0,f.Z)("span",{target:"em9ajyt8"})({name:"lvyu5j",styles:"margin-right:10px;"}),Ar=(0,f.Z)(rr.ww.div,{target:"em9ajyt9"})({name:"8atqhb",styles:"width:100%;"}),_r=(0,f.Z)(jt.Z,{target:"em9ajyt10"})({name:"uewl2b",styles:"margin-bottom:20px;"}),Br=(0,f.Z)(rr.ww.div,{target:"em9ajyt11"})("margin-left:0;margin-top:20px;",g.ZP.small(Or||(Or=(0,a.Z)(["\n     margin-left: auto;\n  align-self: center;\n  margin-top: -10px;\n  "]))),""),zr=(0,f.Z)(be.Z,{target:"em9ajyt12"})({name:"r4f1vu",styles:"position:absolute;right:10px;top:50%;transform:translate(0,-65%);"}),Lr=(0,f.Z)("a",{target:"em9ajyt13"})({name:"1sdy15s",styles:"display:flex;padding-right:20px;&:hover{cursor:pointer;}"}),Ur=(0,f.Z)(ut.Z,{target:"em9ajyt14"})(""),qr=(0,f.Z)("div",{target:"em9ajyt15"})({name:"1m9e5lb",styles:"display:flex;justify-content:flex-end;align-items:center;flex-wrap:wrap;"}),Vr=(0,f.Z)("span",{target:"em9ajyt16"})({name:"smvb43",styles:"color:#f6412d;margin-left:3em;margin-right:auto;"}),Hr=rr.ww.custom(on.ZP);function Yr(e){var t=e.keyName,n=e.t,r=e.isExpiredRegistrant;switch(t){case"Resolver":case"Controller":return n("singleName.tooltips.detailsItem.".concat(t));case"registrant":return n(r?"singleName.tooltips.detailsItem.".concat(t,"Expired"):"singleName.tooltips.detailsItem.".concat(t));default:return"You can only make changes if you are the controller and are logged into your wallet"}}function Wr(e,t,n){var r=n.newValue,a=n.presetValue,i=n.updateValue,s=n.isValid,o=n.isInvalid,l=n.name,d=n.ethUsdPriceLoading,c=n.ethUsdPrice,u=n.years,m=n.setYears,f=n.duration,p=n.expirationDate,g=n.rentPriceLoading,x=n.rentPrice,h=n.placeholder;if("Expiration Date"===e)return(0,y.jsx)(Ur,{name:l.split(".")[0],duration:f,years:u,setYears:function(e){m(e),i((0,N.p6)(p))},ethUsdPriceLoading:d,ethUsdPrice:c,expirationDate:p,loading:g,price:x});var v=(0,sr.OL)(),b="local"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENS_ADDRESS:"0xd7d6d99C78E873C7E4CDe2DF57CAcBbeb6b10a54",REACT_APP_LABELS:'{"dec08c9dbbdd0890e300eb5062089b2d4b1c40e3673bbccb5423f7b37dcf9a9c":"reverse","e5e14487b78f85faa6e1808e89246cf57dd34831548ff2e6097380d98db2504a":"addr","4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0":"eth","f624eb562791474580864ad157f0fe32aa651ed0e7d6fe13189842cfc8198458":"sub3","f68dcec07df6647e9c397b99a3c2441a1cf50d322c5c2a736c41ab0bae4f13ff":"newname","329539a1d23af1810c48a07fe7fc66a3b34fbc8b37e9b3cdb97bb88ceab7e4bf":"resolver","407b932847e457186bd5a893f802e89dfe7b9e49eea23223d509b0d114b7e36a":"oldresolver","d17d1d80d5d7a434b56ee59bc2ed8f0fd2a890dfba40fc63344b9c3654c935ee":"awesome","fefba903cea48da1ba4a20976599843013d6ca515d5a2fab61814b11dd05d36b":"superawesome","f576d1b49f119f20fd8646a7724a6d058f486bb99891fcb1141e3a9c00fc1e8e":"notsoawesome","f4cc95a0790ee9327c5065304022ddc22c44ebf6cffaeef30cb48d4a7e207474":"abittooawesome","41f89d892f2b2b7fdf2efd0a817aff9a9b4275b9434297479394274964f8d45a":"abittooawesome2","45d851f88f1c01b2a4a7dd2b5e7c10c1f061dff6f285319757433d5bcb741aed":"abittooawesome3","03bd642dd09510c5661d684107f8c8616af5a619c17a899a90b36056efa59411":"subdomaindummy","fc6dcb69526bf105fd857674d55049e3b6aef679e9117282507614067a84dbac":"contractdomain","8f54f1c2d0eb5771cd5bf67a6689fcd6eed9444d91a39e5ef32a9b4ae5ca14ff":"data","5cee339e13375638553bdf5a6e36ba80fb9f6a4f0783680884d92b558aa471da":"ens","767f8dcb0bcb57795d10eef140bdcbbbcc089aa6c9d1221d04127bd38905aa87":"otherowner","c0603d17956fe886ec735163e0b019593e0e9921ccfa788a69e2a069de0c4595":"notmigrated","a1e88fc092423bff23900aa3a6d8db1e4cf13228561f14764bcd089c587070dc":"sub1","b2fd3233fdc544d81e84c93822934ddd9b599f056b6a7f84f4de29378bf1cb15":"sub2","37d3424576bafb5fd5f9f8e99478f66780477fcd8d71cb2319b37a64a01640db":"a1","56773bde08d43e305df1de2eaa58b9323bbe0ccb442f5edc6d0f50ca466ebe53":"sub4","9c22ff5f21f0b81b113e63f7db6da94fedef11b2119b4088b89664fb9a3cb658":"test","1aec93acbd3f1d0a515b321723882698e1dbb4c89ed84e2fec76c3a88d42f806":"auctioned2","7d4dd3db9a9abb7a62ddfdce38811ecdcb175c4a953532fd4f88fca7768e919f":"auctioned3","8cfce3846b2a51b94d2cc5646dc3b6249f78c82e2441b3d32e2a1e6feb93ee49":"original","47b91093e945c89d01efb651b756105e6c697c2c305ed3e2138fdc521fc3d0ab":"postmigration","6fd43e7cffc31bb581d7421c8698e29aa2bd8e7186a394b85299908b4eb9b175":"example","739ee990325b60863caba9105f16a8c6864753da6698b1209c42222805be2ef2":"threedayspast","52d78f6d73a669a63b64dc6e361537d03ac9931f6c7b686e1ff262b7eb0b117d":"released","59ac3adf2d5c95e18b0281848ab391c2034584ca7d86f573125db0eb65c4d39b":"rele","b47328ab6c12b5d9466649bf2403af6b68bf190870be79a43ce82bd6bfc139a1":"rel","289996c4a4b61866773ecdf1cd1c0eea40e581b4fa0bc325de44e35abc243f54":"onedaypremium","d3f9d8afa22252fe9d51e89b7ff2864c8f2de91a5ca28d675054e0581ada9ce0":"halfdaypremium","9cf00a312e19f4447db8aea13a531221fe2de6af596d050faf2eedc5a8a04655":"justreleased"}',REACT_APP_DEPRECATED_RESOLVERS:"0x02363b9BDf4d8E3Bb7de7f4811Da38EBD3048325,0xd52051c7982799f628B273Aa92cf7E7Eead60121",REACT_APP_OLD_CONTENT_RESOLVERS:"0xd52051c7982799f628B273Aa92cf7E7Eead60121",REACT_APP_GRAPH_NODE_URI:"http://localhost:8000/subgraphs/name/graphprotocol/ens"}.REACT_APP_STAGE?"http://localhost:8545":window.ethereum||window.web3;if("address"===t&&"Resolver"!==e){var j={presetValue:a||"",provider:b,onResolve:function(e){var t=e.address;i(t||"")},ensAddress:v};return(0,y.jsx)(Cr,(0,E.Z)({},j))}return(0,y.jsx)(_r,{value:r,onChange:function(e){return i(e.target.value.trim())},valid:s,invalid:o,placeholder:"Resolver"===e?h:"",large:!0})}var $r=function(e){e.isExpired;var t,n,o=e.showLabel,u=void 0===o||o,m=e.editButtonType,f=void 0===m?"primary":m,g=e.backgroundStyle,x=void 0===g?"blue":g,h=e.keyName,v=e.value,b=e.type,j=e.mutation,w=e.mutationButton,Z=e.editButton,E=e.domain,O=e.variableName,C=e.refetch,T=(e.confirm,e.copyToClipboard),S=(0,p.$)().t,P=(0,d.Y7)(),D=P.state,I=P.actions,M=(0,i.useState)(""),F=(0,r.Z)(M,2),A=F[0],_=(F[1],D.editing),B=D.newValue,z=D.txHash,L=D.pending,U=D.confirmed,q=I.startEditing,V=I.stopEditing,H=I.updateValue,Y=I.startPending,W=I.setConfirmed,$=(0,i.useState)(1),K=(0,r.Z)($,2),G=K[0],X=K[1];"Expiration Date"===h&&(t=(0,N.o6)(G),n=new Date(new Date(v).getTime()+1e3*t));var J=(0,s.a)(c.GH,{skip:"Expiration Date"!==h}),Q=J.data,ee=void 0===Q?{}:Q,te=J.loading,ne=null===ee||void 0===ee?void 0:ee.getEthPrice,re=(0,s.a)(c.hy,{variables:{duration:t,label:E.label},skip:"Expiration Date"!==h}),ae=re.data,ie=(ae=void 0===ae?{}:ae).getRentPrice,se=re.loading,oe="Resolver"===h&&l.iK.isAddress(B)&&B!==l.VM,le=(0,s.a)(c.EZ,{variables:{address:B},skip:!oe}).data,de=(le=void 0===le?{}:le).isContractController,ce=function(e,t,n){switch(e){case"Expiration Date":return!0;case"Resolver":return!!n;default:return l.iK.isAddress(t)&&t!==l.VM}}(h,B,de),ue=!ce&&B.length>0,me=(0,R.m)(),pe=(0,l.kp)(E,me),be=!E.available&&E.registrant===me,ye=["Resolver"].includes(h),je=S("singleName.resolver.placeholder"),we=(0,sn.D)(j,{onCompleted:function(e){var t=Object.values(e)[0];Y(t),"Expiration Date"===h&&(0,xe.F2)({labels:[E.label],transactionId:t,type:"renew",price:new ge.Z("".concat(ie._hex)).toEth().mul(ne).toFixed(2),years:G})}}),Ze=(0,r.Z)(we,1)[0],Ee=(0,sn.D)(function(e,t){switch(e){case"Controller":return t?he.c$:he.ve;case"Resolver":return he.WT;default:return he.c$}}(h,pe),{variables:{name:E.name,address:l.VM},onCompleted:function(e){Y(Object.values(e)[0])}}),ke=(0,r.Z)(Ee,1)[0],Re=(0,s.a)(c.I6,{fetchPolicy:"network-only"}),Ce=Re.data,Te=Re.loading;return(0,y.jsxs)(Nr,{editing:_,backgroundStyle:x,children:[(0,y.jsxs)(er,{editing:_,children:[u&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Jn,{children:S("c.".concat(h))}),(0,y.jsxs)(Mr,{editing:_,editable:!0,"data-testid":"details-value-".concat(h.toLowerCase()),expiryDate:"date"===b,children:["address"===b?(0,y.jsxs)(Tr,{address:v,ariaLabel:S("c.".concat(h)),children:[(0,y.jsx)(or.K,{address:v,imageSize:24}),"Resolver"===h&&"oldcontent"===E.contentType?(0,y.jsx)(ve.Z,{text:'<p>This resolver is outdated and does not support the new content hash.<br/>Click the "Set" button to update  to the latest public resolver.</p>',position:"top",border:!0,children:function(e){var t=e.tooltipElement,n=e.showTooltip,r=e.hideTooltip;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Pr,{onMouseOver:function(){n()},onMouseLeave:function(){r()}}),t]})}}):null,(0,y.jsx)(Sr,{children:v})]}):"date"===b?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Fr,{tabIndex:0,"aria-label":"".concat(S("c.".concat(h))).concat((0,N.p6)(v)),children:(0,N.p6)(v)}),(0,y.jsx)(Oe,{css:(0,fe.iv)(kr||(kr=(0,a.Z)(["\n                      margin-right: 20px;\n                    "]))),name:E.name,owner:E.owner,registrant:E.registrant,startDatetime:k()(v).utc().local().subtract(30,"days")})]}):v,T&&(0,y.jsx)(Rr,{value:v})]})]}),_?null:L&&!U?(0,y.jsx)(zr,{txHash:z,onConfirmed:function(){"registrant"===h?(0,ar.aO)({refetch:C,interval:300,keyToCompare:"registrant",prevData:{singleName:E},getterString:"singleName"}):C(),W()}}):(0,y.jsx)(Br,{initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:0},children:Z?(0,y.jsx)(Dr,{type:f,onClick:q,"data-testid":"edit-".concat(h.toLowerCase()),children:Z}):(0,y.jsx)(xr,{onClick:q,"data-testid":"edit-".concat(h.toLowerCase())})}),_&&ye&&("Controller"===h||"Resolver"===h)?(0,y.jsx)(Br,{children:(0,y.jsx)(ir.Z,{"data-testid":"delete-".concat(b.toLowerCase()),onClick:function(e){e.preventDefault(),ke()}})}):""]}),(0,y.jsx)(rr.M_,{children:_&&(0,y.jsxs)(rr.ww.div,{initial:{height:0,width:0,opacity:0},animate:{height:"auto",width:"100%",opacity:1},exit:{height:0,width:0,opacity:0},transition:{ease:"easeOut",duration:.3},children:[(0,y.jsx)(Ar,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{ease:"easeOut",duration:.3},children:Wr(h,b,{newValue:B,updateValue:H,presetValue:A,isValid:ce,isInvalid:ue,years:G,name:E.name,setYears:X,ethUsdPrice:ne,ethUsdPriceLoading:te,duration:t,expirationDate:n,rentPriceLoading:se,rentPrice:ie,placeholder:je})}),(0,y.jsxs)(qr,{children:["Expiration Date"!==h||be?"":(0,y.jsxs)(Ir,{children:["*",S("singleName.expiry.cannotown")]}),"Resolver"===h&&(0,y.jsxs)(y.Fragment,{children:[oe&&!de&&(0,y.jsx)(Vr,{"data-testid":"resolver-address-warning",children:S("singleName.resolver.resolverAddressWarning")}),!Te&&(0,y.jsx)(Lr,{onClick:function(e){e.preventDefault(),H(Ce.publicResolver.address)},children:S("singleName.resolver.publicResolver")})]}),(0,y.jsx)(Hr,{stopEditing:V,mutation:function(){var e=function(e,t){var n=t.domain,r=t.variableName,a=t.newValue,i=t.duration;return"Expiration Date"===e?{label:n.name.split(".")[0],duration:i}:(0,nr.Z)({name:n.name},r||"address",a)}(h,{domain:E,variableName:O,newValue:B,duration:t});Ze({variables:e})},value:"Expiration Date"===h?(0,N.p6)(v):v,newValue:"Expiration Date"===h?(0,N.p6)(n):B,mutationButton:w,confirm:!0,isValid:ce})]})]})})]})};function Kr(e){var t=e.editButton,n=e.value,a=e.keyName,i=e.type,s=e.deedOwner,o=e.isDeedOwner,l=e.domain,d=e.isExpiredRegistrant,c=e.copyToClipboard,u=(0,p.$)().t;if(0===parseInt(n,16)){var m=function(e){var t=e.keyName,n=e.parent,a=e.deedOwner,i=e.isDeedOwner,s=e.t,o=function(e,t){switch(e){case"Resolver":return[t("singleName.messages.noresolver"),"message"];case"Controller":case"registrant":return[t("singleName.messages.noowner"),"message"];default:return["No 0x message set","message"]}}(t,s),l=(0,r.Z)(o,2),d=l[0],c=l[1];return"Owner"===t&&"eth"===n&&0!==parseInt(a,16)&&(d=s("singleName.messages.noresolver"),i&&(d+=s("singleName.messages.notfinalise"))),[d,c]}({keyName:a,parent:l.parent,deedOwner:s,isDeedOwner:o,t:u}),f=(0,r.Z)(m,2);n=f[0],i=f[1]}return(0,y.jsx)(Nr,{children:(0,y.jsxs)(er,{children:[(0,y.jsx)(Jn,{children:u("c.".concat(a))}),(0,y.jsxs)(Mr,{"data-testid":"details-value-".concat(a.toLowerCase()),children:["address"===i?(0,y.jsxs)(Tr,{address:n,ariaLabel:u("c.".concat(a)),children:[(0,y.jsx)(or.K,{address:n,imageSize:24}),n]}):"date"===i?(0,N.p6)(n):n,c&&(0,y.jsx)(Rr,{value:n})]}),(0,y.jsx)(Br,{children:t?(0,y.jsx)(ve.Z,{text:Yr({keyName:a,t:u,isExpiredRegistrant:d}),position:"top",border:!0,warning:!0,offset:{left:-30,top:10},children:function(e){var n=e.tooltipElement,r=e.showTooltip,i=e.hideTooltip;return(0,y.jsxs)(Dr,{onMouseOver:function(){r()},onMouseLeave:function(){i()},"data-testid":"edit-".concat(a.toLowerCase()),type:"disabled",children:[t,n]})}}):(0,y.jsx)(xr,{"data-testid":"edit-".concat(a.toLowerCase()),disabled:!0})})]})})}var Gr=function(e){return e.canEdit?(0,y.jsx)($r,(0,E.Z)({},e)):(0,y.jsx)(Kr,(0,E.Z)({},e))};var Xr=(0,f.Z)("span",{target:"e1dzsw9j0"})({name:"105ef1v",styles:"color:white;background:#c7d3e3;border-radius:6px;border:1px solid #ededed;padding:0 2px;"}),Jr=function(){return(0,y.jsx)(Xr,{children:"You"})};var Qr=(0,f.Z)(L.Co,{target:"e1pkge6c0"})({name:"1s16w59",styles:"width:130px;"}),ea=(0,f.Z)("div",{target:"e1pkge6c1"})({name:"12efcmn",styles:"position:absolute;"});var ta=function(e){var t=e.name,n=e.parentOwner,r=e.refetch,a=e.actionText;console.log("SubmitProof",{name:t,parentOwner:n,refetch:r,actionText:a});var i=(0,d.Y7)(),s=i.state,o=i.actions,l=s.txHash,c=s.pending,u=s.confirmed,m=o.startPending;return(0,y.jsx)(ea,{children:c&&!u&&l?(0,y.jsx)(be.Z,{txHash:l,onConfirmed:function(){r()}}):(0,y.jsx)(pe.m,{mutation:he.cH,onCompleted:function(e){m(Object.values(e)[0])},children:function(e){return(0,y.jsx)(Qr,{onClick:function(){e({variables:{name:t,parentOwner:n}})},type:"primary",children:a})}})})},na=n(52891),ra=n.n(na),aa=n(93090),ia=n.n(aa),sa=(n(79802),n(45363));var oa=(0,f.Z)(jt.Z,{target:"e1bykrvu0"})({name:"8atqhb",styles:"width:100%;"}),la=function(e){var t=e.updateValue,n=e.isValid,r=e.isInvalid,a=e.dataType,i=e.contentType,s=e.placeholder,o=e.newValue;return(0,y.jsx)(oa,{warning:"content"===a&&"oldcontent"===i,valid:n,invalid:r,placeholder:s||(0,x.ph)(a,i),onChange:function(e){t((0,x.Or)(i,e.target.value))},value:o})},da=n(78932),ca=n(38128),ua=n(4224),ma=n(91535);var fa,pa,ga,xa,ha,va=(0,f.Z)("div",{target:"er5bi6i0"})({name:"1hskriy",styles:"width:250px;"}),ba={control:function(e){return(0,E.Z)((0,E.Z)({},e),{},{backgroundColor:"white",textTransform:"lowercase",fontWeight:"700",fontSize:"12px",color:"#2B2B2B",letterSpacing:"0.5px"})},option:function(e,t){t.data;var n=t.isDisabled,r=(t.isFocused,t.isSelected);return(0,E.Z)((0,E.Z)({},e),{},{backgroundColor:"white",textTransform:"lowercase",fontWeight:r?700:500,fontSize:"12px",letterSpacing:"0.5px",color:n?"#ccc":r?"black":"#666",cursor:n?"not-allowed":"default"})},input:function(e){return(0,E.Z)({},e)},placeholder:function(e){return(0,E.Z)({},e)},singleValue:function(e,t){t.data;return(0,E.Z)({},e)}},ya=function(e){(0,da.Z)(n,e);var t=(0,ca.Z)(n);function n(){return(0,Wt.Z)(this,n),t.apply(this,arguments)}return(0,$t.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedOption,n=e.handleChange,r=e.className,a=e.addNewKey?ma.ZP:ua.ZP;return(0,y.jsx)(va,{className:r,children:(0,y.jsx)(a,(0,E.Z)((0,E.Z)({isHidden:!1,value:t,onChange:n},this.props),{},{styles:ba,theme:function(e){return(0,E.Z)((0,E.Z)({},e),{},{borderRadius:10,colors:(0,E.Z)((0,E.Z)({},e.colors),{},{text:"orangered",primary25:"blue",primary:"#cccccc"})})}}))})}}]),n}(i.Component),ja=ya,wa=n(54943);var Za=(0,f.Z)("span",{target:"ej3zq3e1"})("font-family:Overpass;font-weight:bold;font-size:14px;color:#5284ff;letter-spacing:0.58px;text-align:center;&:hover{cursor:pointer;}",(function(e){return e.pending&&"\n    color: #cccccc;\n    pointer-events: none;\n    \n    &:hover {\n      cursor: initial;\n    }\n  "}),""),Ea=(0,f.Z)(ja,{target:"ej3zq3e2"})("margin-right:20px;flex-direction:row;margin-bottom:10px;width:100%;",g.ZP.small(fa||(fa=(0,a.Z)(["\n    margin-bottom: 0px;\n    max-width: 150px;\n  "]))),""),Oa=(0,f.Z)("h3",{target:"ej3zq3e3"})({name:"h6kmv5",styles:"font-family:Overpass;font-weight:700;font-size:12px;color:#adbbcd;letter-spacing:0.5px;text-transform:uppercase;margin:0;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;"}),ka=(0,f.Z)("div",{target:"ej3zq3e4"})({name:"g62ntm",styles:"background:#f0f6fa;"}),Ra=(0,f.Z)("form",{target:"ej3zq3e5"})({name:"1ruxp1v",styles:"padding:20px;"}),Ca=(0,f.Z)("div",{target:"ej3zq3e6"})("display:flex;justify-content:space-between;margin-bottom:20px;flex-direction:column;",g.ZP.small(pa||(pa=(0,a.Z)(["\n    flex-direction: row;\n  "]))),""),Ta=(g.ZP.medium(ga||(ga=(0,a.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),g.ZP.medium(xa||(xa=(0,a.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),g.ZP.small(ha||(ha=(0,a.Z)(["\n    margin-left: 20px;\n    margin-bottom: 20px;\n    max-width: 150px;\n  "]))),(0,f.Z)("div",{target:"ej3zq3e10"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"})),Sa=(0,l.Gh)(function(){var e=(0,de.Z)(ue().mark((function e(t,n,r,a,i){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return i(!0),e.next=5,(0,x.uO)({key:null===t||void 0===t?void 0:t.value,value:n,contractFn:null===r||void 0===r?void 0:r.contractFn,addr:a.addr});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),500);function Pa(e){var t=e.domain,n=e.emptyRecords,a=e.editing,s=e.startEditing,o=e.stopEditing,l=e.updateRecord,c=e.pending,u=(0,p.$)().t,m=(0,d.Y7)(),f=m.state,g=m.actions,h=f.newValue,v=g.updateValue,b=(0,i.useState)(null),j=(0,r.Z)(b,2),w=j[0],Z=j[1],E=(0,i.useState)(null),O=(0,r.Z)(E,2),k=O[0],R=O[1],C=(0,i.useState)(!1),T=(0,r.Z)(C,2),S=T[0],P=T[1],D=(0,i.useState)(!1),I=(0,r.Z)(D,2),N=I[0],M=I[1],F=(0,i.useState)([]),A=(0,r.Z)(F,2),_=A[0],B=A[1],z=wa.n.getTextRecordsKeys(t.name).slice().sort().map((function(e){return{label:e,value:e}}));w&&w.value&&w.value,t.contentType,k&&k.value;return function(e,t,n,r,a,s){var o=(0,i.useRef)();o.current=t,(0,i.useEffect)((function(){t&&new Promise((0,de.Z)(ue().mark((function i(){var l;return ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sa(e,t,n,r,a);case 2:l=i.sent,t===o.current&&(s(l),a(!1));case 4:case"end":return i.stop()}}),i)}))))}),[t])}(k,h,w,t,M,P),(0,i.useEffect)((function(){B(wa.n.getCoinOptions()),console.log("coinOptions =",_)}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Oa,{children:[u("singleName.record.title"),a?(0,y.jsx)(Za,{onClick:o,pending:c,children:"Close Add/Edit Record"}):(0,y.jsx)(Za,{onClick:s,pending:c,children:"Add/Edit Record"})]}),a&&(0,y.jsxs)(Ra,{onSubmit:function(e){e.preventDefault()},children:[(0,y.jsxs)(Ca,{children:[(0,y.jsx)(Ea,{selectedOption:w,handleChange:function(e){"setContenthash"===e.contractFn?R("content"):R(null),Z(e)},placeholder:"Add record",options:n}),"coins"===(null===w||void 0===w?void 0:w.value)&&(0,y.jsx)(Ea,{selectedRecord:k,handleChange:R,placeholder:"Coin",options:_}),"textRecords"===(null===w||void 0===w?void 0:w.value)&&(0,y.jsx)(Ea,{selectedRecord:k,handleChange:R,placeholder:"Key",options:z,addNewKey:!0}),(null===w||void 0===w?void 0:w.value)&&(0,y.jsx)(la,{newValue:h||"",dataType:w?w.value:null,contentType:null===k||void 0===k?void 0:k.label,updateValue:v,isValid:S&&!N,isInvalid:!S&&!N,placeholder:(0,x.ph)(w.contractFn,null===k||void 0===k?void 0:k.label)})]}),(0,y.jsx)(Ta,{children:(0,y.jsx)(L.Co,{"data-testid":"save-record",type:S?"primary":"disabled",disabled:!S&&!N,onClick:function(){l({key:(null===k||void 0===k?void 0:k.value)||"CONTENT",value:h,contractFn:null===w||void 0===w?void 0:w.contractFn}),function(e,t,n){e(null),t(null),n(null)}(Z,R,v),P(!1),M(!1)},children:"Save"})})]})]})}var Da=function(e){var t=e.canEdit,n=(0,p.$)().t;return t?(0,y.jsx)(ka,{children:(0,y.jsx)(Pa,(0,E.Z)({},e))}):(0,y.jsx)(ka,{children:(0,y.jsx)(Oa,{children:n("singleName.record.title")})})};var Ia,Na=(0,f.Z)("div",{target:"exgwpqe0"})({name:"1c2jqxj",styles:"display:block;align-items:center;a{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;.external-link{margin-left:5px;transition:0.1s;opacity:0;}&:hover{.external-link{opacity:1;}}}"}),Ma=(0,f.Z)("div",{target:"exgwpqe1"})({name:"1h2ruwl",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"}),Fa=(0,f.Z)("div",{target:"exgwpqe2"})({name:"1s6m2d8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#ccc;"}),Aa=(0,f.Z)("div",{target:"exgwpqe3"})({name:"15k7fiz",styles:"display:inline-flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"}),_a=(0,f.Z)("img",{target:"exgwpqe4"})({name:"1sqapvb",styles:"width:180px;margin:1em 0;"}),Ba=(0,f.Z)("span",{target:"exgwpqe5"})({name:"1iafl4k",styles:"background:rgb(66,224,104);color:white;border-radius:5px;padding:0 5px;margin-right:5px;"}),za=function(e){var t,n=e.textKey,r=e.value,a=e.name;console.log("RecordLink()",n,r,a);var i=Yt().network;switch(n){case"eth.ens.delegate":case"url":t="".concat(r);break;case"com.twitter":t="twitter.com/".concat(r);break;case"com.github":t="github.com/".concat(r)}t=(0,l.dH)(t),"email"===n&&(t="mailto:".concat(r));var s=(0,d.F2)(n,a,i,r),o=s.is_owner,c=s.host_meta,u=s.image,m=(0,l.iP)(r);return t&&!m?(0,y.jsxs)(Na,{children:[(0,y.jsxs)("a",{target:"_blank",href:t,rel:"noopener noreferrer","aria-label":n,children:[r,(0,y.jsx)("img",{src:tr.Z,className:"external-link",alt:"external-link-svg"})]}),(0,y.jsx)(Rr,{value:r})]}):u&&!m?(0,y.jsxs)("div",{children:[(0,y.jsxs)(Na,{children:[o&&(0,y.jsx)(Ba,{children:"Owner"}),(0,y.jsxs)("a",{target:"_blank",href:null===c||void 0===c?void 0:c.reference_url,rel:"noopener noreferrer","aria-label":n,children:[r,(0,y.jsx)("img",{src:tr.Z,className:"external-link",alt:"external-link-svg"})]}),(0,y.jsx)(Rr,{value:r})]}),(0,y.jsx)(_a,{src:u,alt:"avatar"})]}):(0,y.jsx)(Aa,{children:m?(0,y.jsx)(Fa,{children:"Not set"}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Ma,{"data-testid":"unlinked-value-".concat(n),tabIndex:0,"aria-label":n,children:r}),(0,y.jsx)(Rr,{value:r})]})})};var La,Ua,qa;g.ZP.small(Ia||(Ia=(0,a.Z)(["\n    margin-left: 20px;\n    max-width: 175px;\n  "]))),n(22680),n(96517);var Va,Ha,Ya;g.ZP.small(La||(La=(0,a.Z)(["\n    text-align: center;\n    margin-top: 10px;\n  "]))),g.ZP.small(Ua||(Ua=(0,a.Z)(["\n    font-size: 20px;\n    margin-bottom: 12px;\n  "]))),g.ZP.small(qa||(qa=(0,a.Z)(["\n    font-size: 20px;\n    margin-bottom: 8px;\n  "])));g.ZP.large(Va||(Va=(0,a.Z)(["\n    width: 400px;\n  "]))),g.ZP.small(Ha||(Ha=(0,a.Z)(["\n    padding: 4px;\n  "]))),g.ZP.small(Ya||(Ya=(0,a.Z)(["\n    font-size: 18px;\n  "])));n.p;var Wa,$a,Ka,Ga,Xa,Ja,Qa,ei,ti,ni=(0,f.Z)("a",{target:"e1jlbbtp0"})({name:"3wnzc5",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;svg{margin-left:10px;transition:0.1s;opacity:0;}&:hover{svg{opacity:1;}}"}),ri=function(e){var t=e.value,n=e.contentType;e.domain;if("oldcontent"===n||!t)return(0,y.jsx)("div",{children:t});var r,a,i=(0,fn.getProtocolType)(t),s=null===i||void 0===i?void 0:i.protocolType,o=null===i||void 0===i?void 0:i.decoded;return"ipfs"===s?(r="https://dweb.link/ipfs/".concat(o),a="ipfs://".concat(o)):"ipns"===s?(r="https://dweb.link/ipns/".concat(o),a="ipns://".concat(o)):"bzz"===s?(r="https://gateway.ethswarm.org/bzz/".concat(o),a="bzz://".concat(o)):"onion"===s||"onion3"===s?(r="http://".concat(o,".onion"),a="onion://".concat(o)):"sia"===s?(r="https://siasky.net/".concat(o),a="sia://".concat(o)):"arweave"===s?(r="https://arweave.net/".concat(o),a="arweave://".concat(o)):console.warn("Unsupported protocol ".concat(s)),(0,y.jsxs)(ni,{target:"_blank",href:r,"aria-label":n,children:[a,(0,y.jsx)(tr.r,{})]})};var ai=(0,f.Z)(Xn,{target:"e1c9c6p31"})((function(e){return!e.hasRecord&&"display: none;"})," ",(function(e){return e.noBorder?"":"border-top: 1px dashed #d3d3d3;"})," display:block;padding:20px;flex-direction:column;",g.ZP.small(Wa||(Wa=(0,a.Z)(["\n    align-items: flex-start;\n  "])))," background:",(function(e){e.editing;return"white"}),";",g.ZP.medium($a||($a=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n  "]))),""),ii=(0,f.Z)("div",{target:"e1c9c6p32"})("display:grid;width:100%;justify-content:flex-start;align-items:center;position:relative;",g.ZP.medium(Ka||(Ka=(0,a.Z)(["\n    display: flex;\n  "]))),""),si=(0,f.Z)(Jn,{target:"e1c9c6p33"})("font-size:12px;margin-bottom:0;max-width:100%;margin-right:10px;",g.ZP.medium(Ga||(Ga=(0,a.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),""),oi=(0,f.Z)("div",{target:"e1c9c6p34"})("font-family:Overpass Mono;font-weight:500;font-size:14px;color:#adbbcd;letter-spacing:0;",g.ZP.small(Xa||(Xa=(0,a.Z)(["\n    font-size: 16px;\n    width: 250px;\n  "]))),""),li=(0,f.Z)(Qn,{target:"e1c9c6p35"})("font-size:14px;font-family:Overpass Mono;margin-top:1em;",g.ZP.small(Ja||(Ja=(0,a.Z)(["\n      margin-top: 0;\n  "]))),"");g.ZP.medium(Qa||(Qa=(0,a.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),g.ZP.small(ei||(ei=(0,a.Z)(["\n    margin-left: auto;\n  "]))),g.ZP.small(ti||(ti=(0,a.Z)(["\n    margin-top: 0;\n    margin-left: auto;\n  "])));var di,ci,ui,mi,fi,pi,gi,xi=(0,f.Z)(jt.Z,{target:"e13huqhw0"})("width:100%;",(function(e){return e.hasBeenUpdated?"\n    input {\n      border: #5284FF solid 1px;\n    }\n    \n  ":""}),""),hi=function(e){var t=e.onChange,n=e.value,r=e.isValid,a=e.isInvalid,i=e.dataType,s=e.contentType,o=e.placeholder,d=e.hasBeenUpdated,c=e.testId;return(0,y.jsx)(xi,{hasBeenUpdated:d,warning:"content"===i&&"oldcontent"===s,valid:r&&d,value:n==l.VM?"":n,invalid:a,placeholder:o,onChange:t,testId:c})};var vi=(0,f.Z)(ir.Z,{target:"erohma40"})({name:"1l2t2o1",styles:"align-self:center;margin-left:10px;margin-right:10px;"}),bi=(0,f.Z)(ai,{target:"erohma41"})("display:flex;flex-direction:column;border-radius:5px;width:100%;padding 0;",g.ZP.medium(di||(di=(0,a.Z)(["\n    flex-direction: row;\n  "])))," ",(function(e){return e.editing&&g.ZP.medium(ci||(ci=(0,a.Z)(["\n    flex-direction: column;\n  "])))}),""),yi=(0,f.Z)("div",{target:"erohma42"})((function(e){return e.noRecords?"display: none":"display:flex"}),";flex-direction:column;padding:20px;",g.ZP.xLarge(ui||(ui=(0,a.Z)(["\n    flex-direction: row;\n    align-items: flex-start;\n  "]))),""),ji=(0,f.Z)("div",{target:"erohma43"})("display:flex;flex-direction:column;width:100%;",g.ZP.xLarge(mi||(mi=(0,a.Z)(["\n    width: calc(100% - 200px);\n  "]))),";"),wi=(0,f.Z)(si,{target:"erohma44"})("margin-bottom:20px;",g.ZP.small(fi||(fi=(0,a.Z)(["\n    margin-bottom: 20px;\n  "]))),""),Zi=(0,f.Z)("div",{target:"erohma45"})("display:flex;flex-direction:column;",g.ZP.medium(pi||(pi=(0,a.Z)(["\n    flex-direction: row;\n    margin-bottom: 20px;\n  "]))),""),Ei=(0,f.Z)(ii,{target:"erohma46"})("display:grid;width:100%;grid-template-columns:1fr;align-items:flex-start;overflow:hidden;",(function(e){return e.hasBeenUpdated?"border: solid 1px red;":""})," ",g.ZP.small(gi||(gi=(0,a.Z)(["\n    grid-template-columns: 150px 1fr;\n  "]))),""),Oi=(0,f.Z)("span",{target:"erohma47"})({name:"tokvmb",styles:"color:red;"}),ki=function(e,t){return!!e.find((function(e){return e.key===t}))},Ri=function(e){var t=e.editing,n=e.domain,r=e.validator,a=e.changedRecords,i=e.updateRecord,s=e.record,o=e.placeholder,d=e.validating,c=s.key,u=s.value,m=r(s),f=d(s);return console.log("Editable()",c,u,t),(0,y.jsx)(bi,{editing:t,hasRecord:!0,noBorder:!0,children:t?(0,y.jsxs)(Ei,{editing:t,children:[(0,y.jsx)(oi,{children:c}),(0,y.jsx)(hi,{testId:"".concat(c,"-record-input"),hasBeenUpdated:ki(a,c),type:"text",isInvalid:!m&&!f,onChange:function(e){i((0,E.Z)((0,E.Z)({},s),{},{value:(0,x.Or)(c,e.target.value)}))},value:u===l.VM?"":u,isValid:m&&!f,placeholder:o}),(0,y.jsx)(vi,{"data-testid":"".concat(c,"-record-delete"),onClick:function(){i((0,E.Z)((0,E.Z)({},s),{},{value:""}))}})]}):(0,y.jsxs)(Ei,{children:[(0,y.jsx)(oi,{children:c}),(0,y.jsx)(za,{textKey:c,value:u,name:null===n||void 0===n?void 0:n.name})]})})};function Ci(e){var t=e.validator,n=e.setHasRecord,r=e.hasRecord,a=e.canEdit,s=e.editing,o=e.setUpdatedRecords,l=e.recordType,d=e.changedRecords,c=e.updateRecord,u=e.record,m=e.domain,f=e.validating;console.log("Record() props =",e);var p=u.key,g=u.value;return(0,i.useEffect)((function(){g&&0!==parseInt(g,16)&&!r&&n(!0)}),[g,r,n]),a?(0,y.jsx)(Ri,(0,E.Z)((0,E.Z)({},e),{},{validator:t,validating:f,editing:s,setUpdatedRecords:o,changedRecords:d,recordType:l,domain:m,updateRecord:c,record:u})):(0,y.jsx)(Ti,{textKey:p,value:null===u||void 0===u?void 0:u.value,domain:m})}function Ti(e){var t=e.textKey,n=e.value,r=e.remove,a=e.domain;return(0,y.jsxs)(Zi,{children:[(0,y.jsx)(oi,{children:t}),r?(0,y.jsx)(Oi,{children:"Delete Record"}):(0,y.jsx)(za,{textKey:t,value:n,name:null===a||void 0===a?void 0:a.name})]})}function Si(e){var t=e.editing,n=e.canEdit,a=e.records,s=e.validator,o=e.title,l=e.setUpdatedRecords,d=e.changedRecords,c=e.recordType,u=e.updateRecord,m=e.domain,f=e.validating,p=(0,i.useState)(!1),g=(0,r.Z)(p,2),x=g[0],h=g[1];return(0,y.jsxs)(yi,{hasRecord:x,children:[(0,y.jsx)(wi,{children:o}),(0,y.jsx)(ji,{children:null===a||void 0===a?void 0:a.map((function(e){return(0,y.jsx)(Ci,{editing:t,dataValue:e.value,validator:s,validating:f,setHasRecord:h,hasRecord:x,canEdit:n,setUpdatedRecords:l,changedRecords:d,recordType:c,domain:m,updateRecord:u,record:e})}))})]})}function Pi(e){return console.log("KeyValueRecord() props.records =",e),e.loading?null:(0,y.jsx)(Si,(0,E.Z)({},e))}n(99519),(0,En.default)(wi)(Di||(Di=(0,a.Z)(["\n  ","\n"])),g.ZP.small(Ii||(Ii=(0,a.Z)(["\n    margin-bottom: 0;\n  "]))));var Di,Ii,Ni,Mi,Fi,Ai,_i=(0,En.default)(ji)(Ni||(Ni=(0,a.Z)([""]))),Bi=(0,En.default)(yi)(Mi||(Mi=(0,a.Z)(["\n  padding: 0;\n  margin-bottom: 20px;\n"])));(0,En.default)("div")(Fi||(Fi=(0,a.Z)(["\n  display: flex;\n  margin-bottom: 20px;\n"]))),(0,En.default)("span")(Ai||(Ai=(0,a.Z)(["\n  color: red;\n"])));function zi(e){var t=e.changedRecords;return(0,y.jsx)("div",{children:(0,y.jsx)(Bi,{children:(0,y.jsx)(_i,{children:t.map((function(e){return""===e.value?(0,y.jsx)(Ti,{textKey:e.key,value:e.value,remove:!0}):(0,y.jsx)(Ti,{textKey:e.key,value:e.value})}))})})})}var Li,Ui="link";function qi(e){return"https://eth.".concat(Ui,"/names/").concat(e,".").concat(Ui)}function Vi(){return["app.ens.domains","ens.eth","ens.eth.link"].includes(window.location.host)}function Hi(e){if(!Vi())return Promise.resolve({status:null});var t=qi(e);fetch(t,{method:"PUT",mode:"cors",headers:{Origin:"*","Content-Type":"text/plain","Access-Control-Request-Method":"PUT"}}).catch((function(e){console.log(e)}))}function Yi(e){return Vi()?fetch(qi(e)):Promise.resolve({status:null})}function Wi(e){var t=e.split(".");return"eth"===t[t.length-1]&&"eth"!==e}var $i,Ki,Gi,Xi,Ji,Qi,es,ts,ns,rs=(0,f.Z)("span",{target:"e16oolg60"})({name:"1dy9kne",styles:"margin-right:1em;color:#f5a623;"}),as=(0,f.Z)("div",{target:"e16oolg61"})("margin-left:0;",g.ZP.small(Li||(Li=(0,a.Z)(["\n    margin-left: auto;\n  "]))),";");function is(e){var t=e.domain,n=e.value;if(1!==Yt().networkId)return"";var a=(0,i.useState)(!1),s=(0,r.Z)(a,2),o=s[0],c=s[1],u=(0,i.useState)(!1),m=(0,r.Z)(u,2),f=m[0],g=m[1],x=(0,p.$)().t;return(0,d.Yz)((function(){Yi(t.name).then((function(e){200===e.status&&(c(!1),g(!1))})).catch((function(e){console.log("checkCertificate error",{e:e})}))}),f?3e3:null),(0,i.useEffect)((function(){Wi(t.parent)&&"contenthash"===t.contentType&&t.content!==l.VM&&(null!==n&&void 0!==n&&n.includes("ipfs")||null!==n&&void 0!==n&&n.includes("ipns"))&&Yi(t.name).then((function(e){var t=e.status;c(404===t)}))}),[t,n]),o?f?(0,y.jsx)(as,{children:(0,y.jsx)(be.Z,{children:x("singleName.messages.pending")})}):(0,y.jsxs)(as,{children:[(0,y.jsx)(rs,{children:x("certificate.warning",{name:t.name})}),(0,y.jsx)(L.Co,{onClick:function(){Hi(t.name),g(!0)},children:x("certificate.button")})]}):""}var ss=(0,f.Z)(Xn,{target:"e1j4db1j0"})((function(e){return!e.hasRecord&&"display: none;"})," ",(function(e){return e.noBorder?"":"border-top: 1px dashed #d3d3d3;"})," display:block;padding:20px;flex-direction:column;",g.ZP.small($i||($i=(0,a.Z)(["\n    align-items: flex-start;\n  "])))," border-bottom:1px dashed #d3d3d3;",g.ZP.medium(Ki||(Ki=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n  "]))),""),os=(0,f.Z)("div",{target:"e1j4db1j1"})("display:grid;width:100%;justify-content:flex-start;align-items:center;position:relative;",g.ZP.medium(Gi||(Gi=(0,a.Z)(["\n    display: flex;\n  "])))," ",(function(e){return e.editing&&"margin-bottom: 30px"}),";"),ls=(0,f.Z)(Jn,{target:"e1j4db1j2"})("font-size:12px;margin-bottom:0;max-width:100%;margin-right:10px;align-self:flex-start;",g.ZP.medium(Xi||(Xi=(0,a.Z)(["\n    width: 180px;\n    margin-right: 0px;\n  "])))," ",g.ZP.large(Ji||(Ji=(0,a.Z)(["\n    width: 200px;\n    margin-right: 0px;\n  "]))),""),ds=(g.ZP.small(Qi||(Qi=(0,a.Z)(["\n    font-size: 16px;\n    max-width: 220px;\n    min-width: 180px;\n  "]))),(0,f.Z)(Qn,{target:"e1j4db1j4"})("font-size:14px;margin-top:1em;",g.ZP.small(es||(es=(0,a.Z)(["\n      margin-top: 0;\n  "]))),"")),cs=(g.ZP.medium(ts||(ts=(0,a.Z)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  "]))),(0,f.Z)("div",{target:"e1j4db1j6"})({name:"8atqhb",styles:"width:100%;"})),us=(0,f.Z)("div",{target:"e1j4db1j7"})("margin-left:0;",g.ZP.small(ns||(ns=(0,a.Z)(["\n    margin-left: auto;\n  "]))),";"),ms=(0,f.Z)(ir.Z,{target:"e1j4db1j8"})({name:"ubqhym",styles:"align-self:flex-start;margin-top:10px;margin-left:10px;margin-right:10px;"}),fs=(0,f.Z)("div",{target:"e1j4db1j10"})({name:"1s6m2d8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#ccc;"}),ps=(0,f.Z)("a",{target:"e1j4db1j11"})({name:"3wnzc5",styles:"display:inline-block;align-items:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;svg{margin-left:10px;transition:0.1s;opacity:0;}&:hover{svg{opacity:1;}}"}),gs=function(e,t){return!!e.find((function(e){return e.key===t}))},xs=function(e){var t=e.domain,n=e.keyName,r=e.type,a=e.records,i=e.changedRecords,s=e.editing,o=e.updateRecord,d=e.validator,c=(0,p.$)().t,u=t.contentType,m=a[0],f=null===m||void 0===m?void 0:m.value,g=d(m),x=""!==f&&!g;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(ss,{editing:s,hasRecord:!0,children:(0,y.jsxs)(os,{editing:s,children:[(0,y.jsx)(ls,{children:c("c.Content")}),!s&&(0,y.jsx)(ds,{editableSmall:!0,children:""===f||f===l.VM||void 0===f||"undefined"===f?(0,y.jsx)(fs,{children:"Not set"}):(0,y.jsx)(hs,{value:f,contentType:u,domain:t})}),s&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(cs,{children:(0,y.jsx)(hi,{testId:"content-record-input".concat(x?"-invalid":""),onChange:function(e){o((0,E.Z)((0,E.Z)({},m),{},{value:e.target.value.trim()}))},hasBeenUpdated:gs(i,n),value:f,dataType:r,contentType:t.contentType,isValid:g,isInvalid:x})}),(0,y.jsx)(us,{children:(0,y.jsx)(ms,{"data-testid":"delete-".concat(r.toLowerCase()),onClick:function(e){e.preventDefault(),o((0,E.Z)((0,E.Z)({},m),{},{value:l.VM}))}})})]}),!s&&(0,y.jsx)(is,{domain:t,value:f})]})})})};function hs(e){var t=e.value,n=e.contentType,r=e.domain,a=Yt().networkId,i=!!r.name.match(".eth$")&&1===a&&(null===t||void 0===t?void 0:t.match(/^ip/));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(ri,{value:t,contentType:n,domain:r}),i&&(0,y.jsx)("div",{children:(0,y.jsxs)(ps,{target:"_blank",rel:"noopener",href:"https://".concat(r.name,".link"),children:["(","https://".concat(r.name,".link"),")",(0,y.jsx)(tr.r,{})]})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(Rr,{value:t}),(0,y.jsx)("div",{children:i&&(0,y.jsx)(y.Fragment,{children:"\xa0"})})]})]})}function vs(e){var t=e.domain,n=(e.account,e.records),r=(null===n||void 0===n?void 0:n.length)&&n[0],a=t.contentType;return"error"===a?"":(0,y.jsx)(ss,{children:(0,y.jsx)(os,{children:(0,y.jsx)(ds,{children:r&&""!==r?(0,y.jsx)(hs,{value:null===r||void 0===r?void 0:r.value,contentType:a,domain:t}):(0,y.jsx)(fs,{children:"Not set"})})})})}var bs,ys=function(e){return e.canEdit?(0,y.jsx)(xs,(0,E.Z)({},e)):(0,y.jsx)(vs,(0,E.Z)({},e))};var js=(0,f.Z)("div",{target:"evxhp930"})("border-radius:6px;border:1px solid #ededed;box-shadow:inset 0 0 10px 0 rgba(235,235,235,0.5);display:",(function(e){return e.shouldShowRecords?"block":"none"}),";margin-bottom:20px;"),ws=(0,f.Z)("div",{target:"evxhp931"})({name:"1s3rq3u",styles:"padding:20px;font-size:14px;color:#adbbcd;background:hsla(37,91%,55%,0.1);"}),Zs=(0,f.Z)(on.ZP,{target:"evxhp932"})(""),Es=(0,f.Z)("div",{target:"evxhp933"})({name:"1fsol5z",styles:"p{font-weight:300;font-size:14px;}padding:20px;background:#f0f6fa;display:flex;justify-content:space-between;"}),Os=[{label:"Addresses",value:"coins",contractFn:"setAddr(bytes32,uint256,bytes)"},{label:"Content",value:"content",contractFn:"setContenthash"},{label:"Text",value:"textRecords",contractFn:"setText"}];function ks(e){return 0===parseInt(e,16)||("0x"===e||!e)}var Rs=function(e,t){var n=t.filter((function(t){return!e.find((function(e){return t===e.key}))})),r=e.map((function(e){return e.value===fn.emptyAddress?(0,E.Z)((0,E.Z)({},e),{},{value:""}):e}));return[].concat((0,C.Z)(r),(0,C.Z)(n.map((function(e){return{key:e,value:""}}))))},Cs=function(e,t,n){console.log("getInitialRecords()",e,t,n);var r=function(e,t){var n=wa.n.getTextRecordsKeys(t.name),r=e&&e.getTextRecords?Rs(e.getTextRecords,n):Rs([],n);return null===r||void 0===r?void 0:r.map((function(e){return(0,E.Z)({addr:t.addr,contractFn:"setText"},e)}))}(n,e),a=function(e){var t=e&&e.getAddresses?Rs(e.getAddresses,wa.n.getPlaceholderRecords()):Rs([],wa.n.getPlaceholderRecords());return null===t||void 0===t?void 0:t.map((function(e){return(0,E.Z)({contractFn:"setAddr(bytes32,uint256,bytes)"},e)}))}(t),i=function(e){return{contractFn:"setContenthash",key:"CONTENT",value:(t=e.content,(null===t||void 0===t?void 0:t.startsWith("undefined"))||0===parseInt(t,16)?"":e.content)};var t}(e);return[].concat((0,C.Z)(r),(0,C.Z)(a),[i])},Ts=function(e){var t=e.filter((function(e){return"setAddr(bytes32,uint256,bytes)"===e.contractFn})).sort((function(e){return e.key===wa.n.getCurrency()?-1:1}));return console.log("getCoins():",e,t),t},Ss=function(e){var t=e.filter((function(e){return"setContenthash"===e.contractFn}))[0];return t?[{key:t.key,value:t.value,contractFn:t.contractFn}]:[]},Ps=function(e){return e.filter((function(e){return"setText"===e.contractFn}))},Ds=function(e){return function(t){e((function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return n.key===t.key?[].concat((0,C.Z)(e),[t]):[].concat((0,C.Z)(e),[n])}),[])}))}},Is=function(e){return function(t){e((function(e){return[].concat((0,C.Z)(e),[t])}))}},Ns=function(e,t,n){return function(r){!function(e,t){return!!t.find((function(t){return t.key===e.key}))}(r,n)?t(r):e(r)}},Ms=function(e,t){return e.length===t.length},Fs=function(e){return function(t){return e.some((function(e){return e.key===t.key&&e.val===t.val}))}},As=function(e){return function(t){return e.some((function(e){return e.key===t.key&&e.val===t.val}))}},_s=function(){var e=(0,de.Z)(ue().mark((function e(t,n){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(n)).then((function(e){return t.map((function(t,n){return{valid:e[n],record:t}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bs=(0,l.Gh)((function(e,t,n,r,a,i){return e(function(e,t){return ia()(t,e,ra())}(t,n)),r([].concat((0,C.Z)(i),(0,C.Z)(a))),_s(a,x.uO)}),500),zs=(0,o.Ps)(bs||(bs=(0,a.Z)(["\n  query recordsQuery @client {\n    accounts\n    isReadOnly\n  }\n"])));function Ls(e){var t=e.domain,n=e.isOwner,a=e.hasResolver,o=e.isOldPublicResolver,u=e.isDeprecatedResolver,m=e.needsToBeMigrated,f=(0,p.$)().t,g=(0,s.a)(zs).data,x=g.accounts,h=g.isReadOnly,v=(0,sn.D)(he.U_,{onCompleted:function(e){H(Object.values(e)[0])}}),b=(0,r.Z)(v,1)[0],j=(0,i.useState)([]),w=(0,r.Z)(j,2),Z=w[0],E=w[1],O=(0,i.useState)([]),k=(0,r.Z)(O,2),R=k[0],T=k[1],S=(0,i.useState)([]),P=(0,r.Z)(S,2),D=P[0],I=P[1],N=(0,i.useState)([]),M=(0,r.Z)(N,2),F=M[0],A=M[1],_=(0,d.Y7)(),B=_.actions,z=_.state,L=z.pending,U=z.confirmed,q=z.editing,V=z.txHash,H=B.startPending,Y=B.setConfirmed,W=B.startEditing,$=B.stopEditing,K=B.resetPending,G=function(e){console.log("useGetRecords()",e,(0,fn.getNamehash)(e.name));var t=(0,s.a)(c.yF,{variables:{id:(0,fn.getNamehash)(e.name)}}).data,n=t&&t.domain&&t.domain.resolver,r=n&&n.coinTypes&&n.coinTypes.map((function(e){return sa.$c[e]&&sa.$c[e].name})).filter((function(e){return e})),a=(0,s.a)(c.Tt,{variables:{name:e.name,keys:r},skip:!r,fetchPolicy:"network-only"}),i=a.loading,o=a.data,l=(0,s.a)(c.Hl,{variables:{name:e.name,keys:n&&n.texts},skip:!t,fetchPolicy:"network-only"}),d=l.loading;return{dataAddresses:o,dataTextRecords:l.data,recordsLoading:i||d}}(t),X=G.dataAddresses,J=G.dataTextRecords,Q=G.recordsLoading,ee=(0,i.useState)([]),te=(0,r.Z)(ee,2),ne=te[0],re=te[1];!function(e,t,n,r){(0,i.useEffect)((function(){r(Cs(e,t,n))}),[e,t,n])}(t,X,J,re),function(e,t,n){var r=(0,l.D9)(t);(0,i.useEffect)((function(){e&&r===t||n(t)}),[e,t,r])}(Q,ne,E),function(e,t,n,r,a,s,o,d){var c=(0,l.D9)(a),u=(0,i.useRef)(),m=(0,i.useRef)(),f=(0,i.useRef)();u.current=a,m.current=o,f.current=d,(0,i.useEffect)((function(){if(!e){var i=a.filter((function(e){return!c.includes(e)}));Bs(t,r,a,s,i,f.current).then((function(e){var t=e.filter((function(e){return u.current.includes(e.record)})),a=m.current.filter((function(e){return!t.some((function(t){return t.record.key===e.key}))})),o=t.filter((function(e){return e.valid||e.record.key.match(/_LEGACY/)&&e.record.value===r.find((function(t){return t.key===e.record.key})).value})).map((function(e){return e.record}));n([].concat((0,C.Z)(a),(0,C.Z)(o))),s(f.current.filter((function(e){return!i.includes(e)})))}))}}),[a,e,r])}(Q,T,I,ne,Z,A,D,F),function(e,t,n,r){(0,i.useEffect)((function(){n(t),r()}),[e])}(null===x||void 0===x?void 0:x[0],ne,E,$);var ae=function(e,t,n){return!(e||!n)||!(!e||!t)}(n,a,function(e){return!ks(e.addr)||!ks(e.content)||void 0}(t));if(!ae)return null;var ie=!o&&!u&&n&&!h;return(0,y.jsxs)(js,{shouldShowRecords:ae,needsToBeMigrated:m,children:[!ie&&n?(0,y.jsx)(ws,{children:f("singleName.record.cantEdit")}):(0,y.jsx)(Da,{canEdit:ie,emptyRecords:Os,updateRecord:Ns(Ds(E),Is(E),Z),pending:L,domain:t,editing:q,startEditing:W,stopEditing:$,initialRecords:ne,updatedRecords:Z,setUpdatedRecords:E}),(0,y.jsx)(Pi,{canEdit:ie,editing:q,records:Ts(Z),title:f("c.addresses"),updateRecord:Ds(E),changedRecords:R,validator:Fs(D),validating:As(F)}),(0,y.jsx)(ys,{canEdit:ie,editing:q,domain:t,keyName:"CONTENT",type:"content",records:Ss(Z),changedRecords:R,updatedRecords:Z,updateRecord:Ds(E),validator:Fs(D)}),(0,y.jsx)(Pi,{canEdit:ie,editing:q,domain:t,records:Ps(Z),title:f("c.textrecord"),updateRecord:Ds(E),changedRecords:R,validator:Fs(D),validating:As(F)}),L&&!U&&V&&(0,y.jsx)(Es,{pending:L,children:(0,y.jsx)(be.Z,{txHash:V,onConfirmed:function(){Y(),K(),re(Z),Wi(t.parent)&&Hi(t.name)}})}),q&&!V&&(0,y.jsxs)(Es,{children:[(0,y.jsx)("p",{children:"Add, delete, or edit one or multiple records. Confirm in one transaction."}),(0,y.jsx)(Zs,{mutation:function(){b({variables:{name:t.name,records:R}})},mutationButton:"Confirm",stopEditing:function(){E(ne),$()},disabled:!1,confirm:!0,extraDataComponent:(0,y.jsx)(zi,{changedRecords:R}),isValid:!!R.length&&Ms(Z,D)&&!F.length})]})]})}var Us=(0,f.Z)("div",{target:"e1qhalfw0"})({name:"x249lx",styles:"border-radius:6px;border:1px solid #ededed;box-shadow:inset 0 0 10px 0 rgba(235,235,235,0.5);padding-bottom:10px;display:block;margin-bottom:20px;"}),qs=(0,f.Z)("div",{target:"e1qhalfw1"})({name:"g62ntm",styles:"background:#f0f6fa;"}),Vs=(0,f.Z)("h3",{target:"e1qhalfw2"})({name:"h6kmv5",styles:"font-family:Overpass;font-weight:700;font-size:12px;color:#adbbcd;letter-spacing:0.5px;text-transform:uppercase;margin:0;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;"});function Hs(e){return{title:"Title",maker:"Maker",type:"Type of Object",subject:"Subject",period:"Period",dimensions:"Measurements",materials:"Materials & Techniques",markings:"Inscriptions & Markings",features:"Features",reference:"Reference"}[e]}function Ys(e){var t=e.value,n=e.label;return t?(0,y.jsx)(ai,{children:(0,y.jsxs)(ii,{children:[(0,y.jsx)(si,{children:n}),(0,y.jsx)(li,{children:(0,y.jsx)("div",{children:t})})]})}):null}function Ws(e){var t,n=e.domain,r=e.query;return null!==(t=n.name)&&void 0!==t&&t.match(/\.art$/)?(0,y.jsx)(an.A,{query:r,variables:{name:n.name,key:"artrecords"},children:function(e){var t=e.loading,n=e.data;if(t)return(0,y.jsx)(u.Z,{center:!0});var r=n.getText;if(!r)return null;var a=function(e){var t={};try{t=JSON.parse(e)}catch(n){}return Object.keys(t).reduce((function(e,n){return e.concat({label:Hs(n),value:t[n]})}),[])}(r);return function(e){return!e.length||0===e.filter((function(e){return e.value})).length}(a)?null:(0,y.jsxs)(Us,{children:[(0,y.jsx)(qs,{children:(0,y.jsx)(Vs,{children:"Art records"})}),a.map((function(e,t){return(0,y.jsx)(Ys,{value:e.value,label:e.label},t)}))]})}}):null}var $s,Ks=n(86599);var Gs=(0,f.Z)("div",{target:"eoq7jyb0"})({name:"5nfc2",styles:"position:fixed;height:100%;width:100%;background:rgba(0,0,0,0.5);color:#2b2b2b;z-index:100000000;left:0;top:0;display:flex;justify-content:center;align-items:center;"}),Xs=(0,f.Z)("div",{target:"eoq7jyb1"})("background:white;padding:15px 20px;width:90%;",g.ZP.medium($s||($s=(0,a.Z)(["\n    width: 50%\n  "]))),""),Js=(0,f.Z)("h2",{target:"eoq7jyb2"})({name:"t725ul",styles:"color:red;font-weight:300;font-size:22px;margin-top:0;"}),Qs=(0,f.Z)("pre",{target:"eoq7jyb3"})({name:"xs9fqv",styles:"white-space:normal;"}),eo=(0,y.jsx)("svg",{width:"25",height:"22",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M12.165 6.51c.658-.16 1.344.16 1.618.77a1.8 1.8 0 01.137.664 49.926 49.926 0 01-.137 2.02c-.055 1.036-.137 2.099-.192 3.135-.027.345-.027.372-.027.717a1.021 1.021 0 01-1.042.984c-.576 0-1.015-.399-1.042-.957-.082-1.62-.192-2.976-.274-4.597l-.083-1.302a1.41 1.41 0 011.042-1.434m.357 12.222c-.768 0-1.399-.611-1.399-1.355s.631-1.355 1.399-1.355c.767 0 1.398.61 1.37 1.381.028.718-.63 1.329-1.37 1.329M3.749 22H21.24c2.879 0 4.688-3.056 3.263-5.447l-8.774-14.72c-1.425-2.444-5.044-2.444-6.47 0L.486 16.553C-.912 18.971.87 22 3.749 22",fill:"#DC2E2E",fillRule:"evenodd"})}),to=(0,f.Z)("div",{target:"eoq7jyb4"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"});var no,ro=function(e){var t=e.title,n=e.error,r=e.close,a=document.getElementById("modal-root");return Ks.createPortal((0,y.jsx)(Gs,{onClick:r,children:(0,y.jsxs)(Xs,{onClick:function(e){return e.stopPropagation()},children:[(0,y.jsxs)(Js,{children:[eo," \xa0",t]}),(0,y.jsx)(Qs,{children:JSON.stringify(n)}),(0,y.jsx)(to,{children:(0,y.jsx)(L.Co,{type:"primary",onClick:r,children:"Close"})})]})}),a)};var ao=(0,f.Z)(Xn,{target:"ek0r0970"})({name:"79elbk",styles:"position:relative;"}),io=(0,f.Z)(Jn,{target:"ek0r0971"})({name:"gikztc",styles:"color:#2b2b2b;"}),so=(0,f.Z)(Qn,{target:"ek0r0972"})({name:"1j87prn",styles:"color:#f5a623;"}),oo=(0,f.Z)(L.Co,{target:"ek0r0973"})({name:"1y6ic72",styles:"margin-left:10px;"}),lo=(0,f.Z)("div",{target:"ek0r0974"})("margin-left:0;",g.ZP.small(no||(no=(0,a.Z)(["\n    margin-left: auto\n  "]))),""),co=(0,f.Z)("svg",{target:"ek0r0975"})({name:"lvyu5j",styles:"margin-right:10px;"});function uo(e){var t=e.value,n=e.name,a=e.refetch,s=e.isOwner,o=(0,p.$)().t,l=(0,i.useState)(!1),c=(0,r.Z)(l,2),u=c[0],m=c[1],f=(0,d.Y7)(),g=f.state,x=f.actions,h=(0,d.Y7)(),v=h.state,b=h.actions,j=g.txHash,w=g.pending,Z=g.confirmed,E=v.txHash,O=v.pending,k=v.confirmed,R=x.startPending,C=x.setConfirmed,T=b.startPending,S=b.setConfirmed,P=(0,sn.D)(he._5,{variables:{name:n},onCompleted:function(e){Object.values(e)[0].length>1?(R(Object.values(e)[0][0]),T(Object.values(e)[0][1])):(R(Object.values(e)[0][0]),T("notatx"))}}),D=(0,r.Z)(P,2),I=D[0],N=D[1].error;return(0,i.useEffect)((function(){N&&m(!0)}),[N]),(0,y.jsxs)(ao,{children:[u&&(0,y.jsx)(ro,{error:N,title:o("singleName.resolver.error"),close:function(){return m(!1)}}),(0,y.jsxs)(io,{children:[(0,y.jsx)(co,{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M8.739 5.82c-.039.746-.096 1.512-.134 2.258-.02.25-.02.268-.02.517a.723.723 0 01-.727.708.707.707 0 01-.727-.689c-.058-1.167-.134-2.143-.192-3.311l-.057-.938c-.02-.478.268-.9.727-1.034a.972.972 0 011.13.556c.057.153.095.306.095.478-.019.479-.057.976-.095 1.455m-.88 6.316a.98.98 0 01-.977-.976.98.98 0 01.976-.976c.536 0 .976.44.957.995.02.517-.44.957-.957.957M7.93 0a7.93 7.93 0 100 15.86A7.93 7.93 0 007.93 0",fill:"#F5A623",fillRule:"evenodd"})}),o("c.Resolver")]}),(0,y.jsxs)(so,{editable:!0,"data-testid":"migrate-value",children:[t,(0,y.jsx)(Rr,{iconColour:"#f5a623"})]}),(0,y.jsx)(lo,{children:!(w&&O&&j&&E)||Z&&k?(0,y.jsx)(oo,{onClick:s?I:function(){},type:s?"primary":"disabled",children:o("c.migrate")}):(0,y.jsx)(be.Z,{txHashes:"notatx"===E?void 0:[j,E],txHash:"notatx"===E?j:void 0,onConfirmed:function(){C(),S(),a()}})})]})}var mo=(0,f.Z)("div",{target:"eod8dl70"})({name:"uewl2b",styles:"margin-bottom:20px;"});function fo(){var e=(0,p.$)().t;return(0,y.jsx)(mo,{children:e("singleName.resolver.warning")})}var po=(0,f.Z)("div",{target:"eod8dl71"})({name:"uewl2b",styles:"margin-bottom:20px;"}),go=(0,f.Z)("div",{target:"eod8dl72"})({name:"o5kxxr",styles:"border-top:1px dashed #d3d3d3;padding-top:20px;"}),xo=(0,f.Z)("div",{target:"eod8dl73"})((function(e){return e.needsToBeMigrated?"\n    color: #ADBBCD;\n    font-size: 14px;\n    background: hsla(37, 91%, 55%, 0.1);\n    padding: 20px;\n    margin-bottom: 20px;\n  ":"background: none;"}),"");var ho,vo=function(e){var t,n=e.domain,r=e.isOwner,a=e.refetch,i=e.account,o=e.isMigratedToNewRegistry,l=(0,p.$)().t,d=(t=n.resolver,0!==parseInt(t,16)),u=!1,m=!1,f=!0,g=!1,x=(0,s.a)(c.P9,{variables:{name:n.name,resolver:n.resolver},skip:!d}),h=x.data,v=x.loading;h&&h.getResolverMigrationInfo&&(u=h.getResolverMigrationInfo.isOldPublicResolver,m=h.getResolverMigrationInfo.isDeprecatedResolver,f=h.getResolverMigrationInfo.areRecordsMigrated,g=h.getResolverMigrationInfo.isPublicResolverReady);var b=!v&&o&&g&&(u||m);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(xo,{needsToBeMigrated:b,children:[b?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(uo,{value:n.resolver,name:n.name,refetch:a,isOwner:r})}):(0,y.jsx)(Gr,{keyName:"Resolver",type:"address",value:n.resolver,canEdit:r&&o,domain:n,editButton:l("c.set"),mutationButton:l("c.save"),mutation:he.WT,refetch:a,account:i,needsToBeMigrated:b,copyToClipboard:!0}),b&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(fo,{}),(0,y.jsxs)(go,{children:[(0,y.jsx)(po,{children:l("singleName.resolver.message")}),(0,y.jsx)(Gr,{showLabel:!1,keyName:"Resolver",type:"address",value:n.resolver,canEdit:r&&o,domain:n,editButton:l("c.set"),editButtonType:"hollow-primary",mutationButton:l("c.save"),backgroundStyle:"warning",mutation:he.WT,refetch:a,account:i,needsToBeMigrated:b})]})]})]}),d&&Object.values(n).filter((function(e){return e})).length&&(0,y.jsx)(Ls,{domain:n,refetch:a,account:i,isOwner:r,hasResolver:d,needsToBeMigrated:b,isOldPublicResolver:u,isDeprecatedResolver:m,areRecordsMigrated:f}),d&&(0,y.jsx)(Ws,{domain:n,query:c.sx})]})};var bo=(0,f.Z)("div",{target:"e14kl7v60"})("padding:20px 0px;display:flex;flex-direction:column;justify-content:space-between;",g.ZP.medium(ho||(ho=(0,a.Z)(["\n    flex-direction: row-reverse;\n  "]))),";border-top:1px dashed #d3d3d3;"),yo=(0,f.Z)(L.Co,{target:"e14kl7v61"})({name:"2ug417",styles:"max-width:8em;"}),jo=(0,f.Z)("p",{target:"e14kl7v62"})({name:"xvkx58",styles:"color:#c7d3e3;size:14pt;"}),wo=(0,f.Z)("pre",{target:"e14kl7v63"})({name:"hvcq6z",styles:"display:inline;background-color:#eee;padding:3px;"});var Zo,Eo,Oo,ko,Ro,Co,To,So,Po,Do,Io,No,Mo,Fo,Ao,_o,Bo,zo,Lo,Uo,qo,Vo,Ho,Yo=function(e){var t=e.domain,n=e.refetch,a=(0,p.$)().t,i=(0,d.Y7)(),s=i.state,o=i.actions,l=s.txHash,c=s.pending,u=s.confirmed,m=o.startPending,f=o.setConfirmed,g=(0,sn.D)(he.Zn,{onCompleted:function(e){m(Object.values(e)[0]),n()}}),x=(0,r.Z)(g,1)[0];return(0,y.jsxs)(bo,{children:[c&&!u?(0,y.jsx)(be.Z,{txHash:l,onConfirmed:function(){f(),n()}}):(0,y.jsx)(yo,{"data-testid":"claim-test",onClick:function(){x({variables:{label:t.label}})},children:a("c.claim")}),(0,y.jsx)(jo,{children:(0,y.jsxs)(Zn.c,{i18nKey:"singleName.test.note",children:["Note: ",(0,y.jsx)(wo,{children:".test"})," domain allows anyone to claim an unused name for test purposes, which expires after 28 days"]})})]})},Wo=(0,En.default)("section")(Zo||(Zo=(0,a.Z)(["\n  padding: 20px;\n  transition: 0.4s;\n  ","\n"])),g.ZP.small(Eo||(Eo=(0,a.Z)(["\n    padding: 40px;\n  "])))),$o=(0,En.default)(u.Z)(Oo||(Oo=(0,a.Z)(["\n  width: 30%;\n  margin: auto;\n"]))),Ko=(0,En.default)(L.Co)(ko||(ko=(0,a.Z)(["\n  position: absolute;\n  width: 130px;\n  background-colore: white;\n"]))),Go=(0,En.default)("div")(Ro||(Ro=(0,a.Z)(["\n  margin-top: 20px;\n  height: 50px;\n  ","\n"])),g.ZP.small(Co||(Co=(0,a.Z)(["\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 128px;\n    -webkit-transform: translate(0, -65%);\n    -ms-transform: translate(0, -65%);\n    transform: translate(0, -65%);\n  "])))),Xo=(0,En.default)(Qn)(To||(To=(0,a.Z)(["\n  color: ",";\n"])),(function(e){return e.isExpired?"red":null})),Jo=(0,En.default)(cr)(So||(So=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Qo=(0,En.default)("div")(Po||(Po=(0,a.Z)(["\n  background: #f0f6fa;\n  color: #adbbcd;\n  display: flex;\n  padding: 1em 0;\n  margin-left: 0px;\n  ","\n\n  margin-bottom: 45px;\n  padding-left: 24px;\n"])),g.ZP.small(Do||(Do=(0,a.Z)(["\n    margin-left: 180px;\n  "])))),el=(0,En.default)(Qo)(Io||(Io=(0,a.Z)(["\n  background: #fef7e9;\n"]))),tl=(0,En.default)("div")(No||(No=(0,a.Z)(["\n  margin-top: 20px;\n  background: #fef7e9;\n  display: flex;\n"]))),nl=(0,En.default)("div")(Mo||(Mo=(0,a.Z)(["\n  margin-top: 15px;\n"]))),rl=(0,En.default)("span")(Fo||(Fo=(0,a.Z)(["\n  display: inline-block;\n  transform: translate(25%, 20%);\n"]))),al=(0,En.default)("a")(Ao||(Ao=(0,a.Z)(["\n  margin-right: ",";\n  font-size: 14px;\n  letter-spacing: 0.58px;\n  text-align: center;\n  margin-left: auto;\n  min-width: 130px;\n"])),(function(e){return e.outOfSync,""})),il=(0,En.default)(De.r)(_o||(_o=(0,a.Z)(["\n  margin-right: 5px;\n  margin-top: 6px;\n  width: 20px;\n  height: 20px;\n"]))),sl=(0,En.default)("span")(Bo||(Bo=(0,a.Z)(["\n  color: #f5a623;\n"]))),ol=(0,En.default)("div")(zo||(zo=(0,a.Z)(["\n  background: ",";\n  padding: ",";\n  margin-bottom: ",";\n"])),(function(e){return e.outOfSync?"#fef7e9":""}),(function(e){return e.outOfSync?"1.5em":"0"}),(function(e){return e.outOfSync?"1.5em":"0"})),ll=(0,En.default)("span")(Lo||(Lo=(0,a.Z)(["\n  color: ",";\n"])),(function(e){return e.outOfSync?"#CACACA":""})),dl=(0,En.default)("div")(Uo||(Uo=(0,a.Z)(["\n  font-family: 'Overpass';\n  background: ",";\n  padding: 10px 20px;\n  margin: 5px 0px;\n"])),(function(e){return e.isExpired?"#ff926f":"#fef7e9"})),cl=(0,En.default)("span")(qo||(qo=(0,a.Z)(["\n  color: ",";\n  margin-left: 0.5em;\n"])),(function(e){return e.isExpired?"white":"#cacaca"})),ul=(0,En.default)("span")(Vo||(Vo=(0,a.Z)(["\n  font-weight: bold;\n"]))),ml=(0,En.default)("span")(Ho||(Ho=(0,a.Z)(["\n  color: ",";\n  font-weight: bold;\n"])),(function(e){return e.isExpired?"white":"#f5a623"})),fl=function(e){var t=e.date,n=e.expiryTime,r=(0,p.$)().t,a=new Date>new Date(n);return(0,y.jsxs)(dl,{isExpired:a,children:[(0,y.jsx)(ml,{isExpired:a,children:r(a?"singleName.expiry.expired":"singleName.expiry.expiringSoon")}),(0,y.jsxs)(cl,{isExpired:a,children:[r("singleName.expiry.gracePeriodEnds")," ",(0,y.jsx)(ul,{children:(0,N.p6)(t)})]})]})};function pl(e){var t;return!(null===(t=e.name)||void 0===t||!t.match(/\.test$/))&&(0===parseInt(e.owner)||e.expiryTime<new Date)}var gl=function(e){var t,n=e.isMigratedToNewRegistry,r=e.isDeedOwner,a=e.isRegistrant,i=e.showExplainer,s=e.canSubmit,o=e.outOfSync,l=e.loading,d=e.setLoading,c=e.isOwnerOfParent,u=e.isOwner,m=e.refetch,f=e.domain,g=e.dnssecmode,x=e.account,v=e.loadingIsMigrated,b=e.refetchIsMigrated,j=e.isParentMigratedToNewRegistry,w=e.loadingIsParentMigrated,Z=(0,p.$)().t,E=f.expiryTime<new Date,O=f.available||"0x0"===f.owner?null:f.owner,k=f.available||"0x0"===f.registrant?null:f.registrant,R="[root]"===f.name?null:f.parent?f.parent:"[root]",C=2===(null===(t=f.name)||void 0===t?void 0:t.split(".").length)&&0===parseInt(f.owner)&&"eth"!==f.parent&&!f.isDNSRegistrar;return(0,y.jsxs)(Wo,{"data-testid":"name-details",children:[u&&(0,y.jsx)(_n,{initialState:i}),0!==parseInt(f.owner,16)&&!v&&!n&&(0,y.jsx)(Gn,{account:x,domain:f,dnssecmode:g,refetchIsMigrated:b,isParentMigratedToNewRegistry:j,loadingIsParentMigrated:w}),R?(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsx)(Jn,{children:Z("c.parent")}),(0,y.jsx)(Qn,{children:(0,y.jsx)(me.rU,{to:"/name/".concat(R),"aria-label":Z("c.parent"),children:R})})]}):"",C&&(0,y.jsx)(dl,{children:(0,y.jsxs)(Xn,{children:[Z("c.cannotclaimDns",{name:R}),(0,y.jsxs)(al,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,y.jsx)(rl,{children:(0,y.jsx)(tr.r,{})})]})]})}),(0,y.jsxs)(ol,{outOfSync:o,children:[f.parent===wa.n.getCurrentTld()&&f.isNewRegistrar?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Gr,{domain:f,keyName:"registrant",value:k,canEdit:a&&!E,isExpiredRegistrant:a&&E,type:"address",editButton:Z("c.transfer"),mutationButton:Z("c.transfer"),mutation:he.PV,refetch:m,confirm:!0,copyToClipboard:!0}),(0,y.jsx)(Gr,{domain:f,keyName:"Controller",value:O,canEdit:a||u&&n,deedOwner:f.deedOwner,isDeedOwner:r,type:"address",editButton:Z(a?"c.set":"c.transfer"),mutationButton:Z(a?"c.set":"c.transfer"),mutation:a?he.S1:he.ve,refetch:m,confirm:!0,copyToClipboard:!0})]}):f.parent!==wa.n.getCurrentTld()||f.isNewRegistrar?f.isDNSRegistrar?(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsxs)(Jn,{children:[Z("c.Controller")," ",u?(0,y.jsx)(Jr,{}):""]}),(0,y.jsx)(Qn,{children:(0,y.jsxs)(Jo,{address:f.owner,ariaLabel:Z("c.Controller"),children:[o?(0,y.jsx)(or.K,{address:f.owner,imageSize:24,color:"#E1E1E1",bgcolor:"#FFFFFF",spotcolor:"#CFCFCF"}):(0,y.jsx)(or.K,{address:f.owner,imageSize:24}),(0,y.jsx)(ll,{outOfSync:o,children:f.owner})]})}),(0,y.jsx)(Go,{outOfSync:o,children:s?(0,y.jsx)(ta,{name:f.name,parentOwner:f.parentOwner,refetch:m,actionText:Z("c.sync")}):(0,y.jsx)(ve.Z,{text:Z("singleName.tooltips.detailsItem.ControllerAndDnsAlreadySync"),position:"left",border:!0,warning:!0,offset:{left:-30,top:10},children:function(e){var t=e.tooltipElement,n=e.showTooltip,r=e.hideTooltip;return(0,y.jsxs)(Ko,{onMouseOver:function(){n()},onMouseLeave:function(){r()},type:"disabled",children:[Z("c.sync"),t]})}})})]}):(0,y.jsx)(Gr,{domain:f,keyName:"Controller",value:f.owner,canEdit:(u||c)&&n,deedOwner:f.deedOwner,isDeedOwner:r,outOfSync:o,type:"address",editButton:Z(c?"c.set":"c.transfer"),mutationButton:Z(c?"c.set":"c.transfer"),mutation:c?he.c$:he.ve,refetch:m,confirm:!0,copyToClipboard:!0}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsx)(Jn,{children:Z("c.registrant")}),(0,y.jsx)(Qn,{children:(0,y.jsxs)(Jo,{address:f.deedOwner,arialLabel:Z("c.registrant"),children:[(0,y.jsx)(or.K,{address:f.deedOwner,imageSize:24}),f.deedOwner]})})]}),(0,y.jsx)(Gr,{domain:f,keyName:"Controller",value:f.owner,canEdit:a||u&&n,deedOwner:f.deedOwner,isDeedOwner:r,type:"address",editButton:Z(a?"c.set":"c.transfer"),mutationButton:Z(a?"c.set":"c.transfer"),mutation:a?he.S1:he.ve,refetch:m,confirm:!0,copyToClipboard:!0})]}),f.isDNSRegistrar?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsx)(Jn,{children:Z("dns.dnsowner")}),(0,y.jsx)(Qn,{children:g.displayError?(0,y.jsx)(sl,{children:g.title}):(0,y.jsxs)(Jo,{address:f.dnsOwner,ariaLabel:Z("dns.dnsowner"),children:[(0,y.jsx)(or.K,{address:f.dnsOwner,imageSize:24}),f.dnsOwner]})}),(0,y.jsx)(Go,{outOfSync:o,children:l?(0,y.jsx)(Ko,{children:(0,y.jsx)($o,{})}):(0,y.jsxs)(Ko,{onClick:function(){d(!0),m().then((function(e){d(!1)})).catch((function(e){console.log("failed to refetch",e)}))},children:[Z("c.refresh")," "]})})]}),g.displayError?(0,y.jsxs)(el,{children:[(0,y.jsx)(il,{}),f.stateError?f.stateError:Z("singleName.dns.messages.error"),(0,y.jsxs)(al,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,y.jsx)(rl,{children:(0,y.jsx)(tr.r,{})})]})]}):o?(0,y.jsxs)(nl,{children:[(0,y.jsx)(h.HR,{}),(0,y.jsxs)(tl,{children:[(0,y.jsx)(il,{}),(0,y.jsx)(Zn.c,{i18nKey:"singleName.dns.messages.outOfSync",children:g.explainer}),(0,y.jsxs)(al,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",outOfSync:o,children:[Z("c.learnmore")," ",(0,y.jsx)(rl,{children:(0,y.jsx)(tr.r,{})})]})]})]}):(0,y.jsxs)(Qo,{children:[(0,y.jsx)(Zn.c,{i18nKey:"singleName.dns.messages.readyToRegister",children:g.explainer}),(0,y.jsxs)(al,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[Z("c.learnmore")," ",(0,y.jsx)(rl,{children:(0,y.jsx)(tr.r,{})})]})]})]}):"",f.registrationDate?(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsx)(Jn,{children:Z("c.registrationDate")}),(0,y.jsx)(Qn,{children:(0,N.p6)(f.registrationDate)})]}):"",f.available?"":f.isNewRegistrar||f.gracePeriodEndDate?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Gr,{domain:f,keyName:"Expiration Date",value:f.expiryTime,canEdit:0!==parseInt(x,16),type:"date",editButton:Z("c.renew"),mutationButton:Z("c.renew"),mutation:he.ZK,refetch:m,confirm:!0}),f.gracePeriodEndDate?(0,y.jsx)(fl,{expiryTime:f.expiryTime,date:f.gracePeriodEndDate}):""]}):f.expiryTime?(0,y.jsxs)(Xn,{uneditable:!0,children:[(0,y.jsx)(Jn,{children:Z("c['Expiration Date']")}),(0,y.jsx)(Xo,{isExpired:E,children:(0,N.p6)(f.expiryTime)})]}):""]}),(0,y.jsx)(h.HR,{}),(0,y.jsx)(vo,{domain:f,isOwner:u,refetch:m,account:x,isMigratedToNewRegistry:n}),pl(f)?(0,y.jsx)(Yo,{domain:f,refetch:m}):null]})};n(90578);var xl=function(e){var t=e.domain,n=e.isOwner,a=e.isOwnerOfParent,o=e.refetch,l=e.account,d=e.registrationOpen,u=e.tab,m=e.pathname,f=(0,i.useState)(void 0),p=(0,r.Z)(f,2),g=p[0],h=p[1],v=(0,s.a)(c.Ak,{variables:{name:t.name}}),b=v.data,j=(b=void 0===b?{}:b).isMigrated,w=v.loading,E=v.refetch,O=(0,s.a)(c.Ak,{variables:{name:t.parent}}),k=O.data,R=(k=void 0===k?{}:k).isMigrated,C=O.loading,T=0!==parseInt(l),S=!w&&j,P=R,D=t.deedOwner===l;console.log("domain.available, domain.registrant =",t.available,t.registrant);var I,N,M=!t.available&&t.registrant===l;[5,6].includes(t.state)&&!j?(I=wn[7],N=T&&t.isDNSRegistrar&&"SUBMIT_PROOF"===I.state):(I=wn[t.state],N=T&&t.isDNSRegistrar&&"SUBMIT_PROOF"===I.state&&t.owner.toLowerCase()!==t.dnsOwner.toLowerCase());var F=!parseInt(t.resolver),A=I&&I.outOfSync,_=m.split("/").length>3,B=wa.n.getCurrentTld();return console.log("\u662f\u5426\u51c6\u5907\u6ce8\u518c\uff1f",t.parent,t.parent===B,u,_),t.parent!==B||"register"!==u||_?t.parent!==B||"details"!==u||_?t.parent===B||_?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Z.AW,{path:"/name/:name/details",render:function(){return(0,y.jsx)(gl,{loadingIsMigrated:w,isMigratedToNewRegistry:S,isDeedOwner:D,isRegistrant:M,showExplainer:F,canSubmit:N,outOfSync:A,loading:g,setLoading:h,isOwnerOfParent:a,isParentMigratedToNewRegistry:P,loadingIsParentMigrated:C,isOwner:n,refetch:o,domain:t,dnssecmode:I,account:l,refetchIsMigrated:E})}}),(0,y.jsx)(Z.AW,{exact:!0,path:"/name/:name/subdomains",render:function(){return(0,y.jsx)(jn,{domain:t,isOwner:n,"data-testid":"subdomains",isMigratedToNewRegistry:S,loadingIsMigrated:w,isParentMigratedToNewRegistry:P,loadingIsParentMigrated:C})}}),(0,y.jsx)(Z.AW,{exact:!0,path:"/name/:name/register",render:function(){return(0,y.jsx)(nn,{registrationOpen:d,domain:t,refetch:o,refetchIsMigrated:E,readOnly:(0,x.bx)(l)})}})]}):(0,y.jsx)(Z.l_,{to:"".concat(m,"/subdomains")}):(0,y.jsx)(Z.l_,{to:"".concat(m,"/details")}):(0,y.jsx)(Z.l_,{to:"".concat(m,"/register")})},hl={initialState:"ENABLE_DNSSEC",states:{ENABLE_DNSSEC:{on:{NEXT:"ADD_TEXT"}},ADD_TEXT:{on:{NEXT:"SUBMIT_PROOF"}},SUBMIT_PROOF:{on:{NEXT:"SUBMIT_SENT"}},SUBMIT_SENT:{on:{NEXT:"SUBMIT_CONFIRMED"}},SUBMIT_CONFIRMED:{on:{NEXT:"SUBMIT_CONFIRMED"}}}},vl=T(hl),bl=vl.registerReducer;vl.hasReachedState;var yl=(0,f.Z)("div",{target:"e17aiox40"})("color:",(function(e){return 100===e.progress?"#42E068":"#dfdfdf"}),";font-size:34px;font-weight:300;position:relative;width:60px;height:60px;span{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"),jl=(0,f.Z)("svg",{target:"e17aiox41"})("stroke:#ccc;circle{stroke-dasharray:",180,";stroke-dashoffset:0;}circle.progress{stroke-dasharray:",180,";stroke-dashoffset:",(function(e){return 1.8*(e.progress-100)}),";}"),wl=(0,f.Z)("div",{target:"e17aiox42"})({name:"1c5k5tl",styles:"margin-left:8px;div{font-weight:100;font-size:20px;color:#2b2b2b;letter-spacing:0;}p{font-size:12px;color:#adbbcd;letter-spacing:0;}"}),Zl=(0,f.Z)("div",{target:"e17aiox43"})({name:"k008qs",styles:"display:flex;"}),El=function(e){var t=e.number,n=e.text,r=e.title,a=e.progress,i=void 0===a?100:a;return(0,y.jsxs)(Zl,{children:[(0,y.jsxs)(yl,{progress:i,children:[(0,y.jsxs)(jl,{height:"60",width:"60",progress:i,children:[(0,y.jsx)("circle",{cx:"30",cy:"30",r:"28",stroke:"#dfdfdf",strokeWidth:"2",fill:"none",transform:"rotate(-90, 30, 30)"}),(0,y.jsx)("circle",{cx:"30",cy:"30",r:"28",strokeWidth:"2",stroke:"#42E068",fill:"none",className:"progress",transform:"rotate(-90, 30, 30)"})]}),(0,y.jsx)("span",{children:t})]}),(0,y.jsxs)(wl,{children:[(0,y.jsx)("div",{children:r}),(0,y.jsx)("p",{children:n})]})]})},Ol=(0,f.Z)("section",{target:"e1nbaug0"})("display:grid;grid-template-columns:1fr;grid-row-gap:30px;border-bottom:",(function(e){return e.border?"1":"0"}),"px solid #dfdfdf;"),kl=function(e){var t=e.step,n=e.number,r=e.title,a=e.text,i=e.border;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Ol,{border:i,children:(0,y.jsx)(El,{number:n,progress:"SUBMIT_CONFIRMED"===t?100:"SUBMIT_SENT"===t?50:0,title:r,text:a})})})};var Rl=(0,f.Z)("div",{target:"el8mv480"})({name:"q2ms4q",styles:"width:60px;"}),Cl=(0,f.Z)(u.Z,{target:"el8mv481"})({name:"m2kbm0",styles:"width:30%;margin:auto;"}),Tl=(0,f.Z)("span",{target:"el8mv482"})({name:"1bv9mw7",styles:"display:inline-block;transform:translate(25%,20%);"}),Sl=(0,f.Z)("div",{target:"el8mv483"})({name:"2p5bw9",styles:"display:flex;justify-content:flex-end;align-items:center;padding-top:20px;"}),Pl=(0,f.Z)("a",{target:"el8mv484"})({name:"10d8d2u",styles:"margin-right:1em;font-size:14px;letter-spacing:0.58px;text-align:center;margin-left:auto;"}),Dl=(0,f.Z)(Pe,{target:"el8mv485"})({name:"1sylyko",styles:"margin-right:5px;"}),Il=function(){return(0,y.jsx)("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M8.739 5.82c-.039.746-.096 1.512-.134 2.258-.02.25-.02.268-.02.517a.723.723 0 0 1-.727.708.707.707 0 0 1-.727-.689c-.058-1.167-.134-2.143-.192-3.311l-.057-.938c-.02-.478.268-.9.727-1.034a.972.972 0 0 1 1.13.556c.057.153.095.306.095.478-.019.479-.057.976-.095 1.455m-.88 6.316a.98.98 0 0 1-.977-.976.98.98 0 0 1 .976-.976c.536 0 .976.44.957.995.02.517-.44.957-.957.957M7.93 0a7.93 7.93 0 1 0 0 15.86A7.93 7.93 0 0 0 7.93 0",fill:"#F5A623",fillRule:"evenodd"})})},Nl=(0,f.Z)("span",{target:"el8mv486"})({name:"rwq7by",styles:"margin-left:0.2em;font-size:14px;color:#f5a623;"});function Ml(e){var t=e.step,n=e.name,r=e.parentOwner,a=e.incrementStep,i=e.txHash,s=e.setTxHash,o=e.refetch,l=e.loading,d=e.setLoading,c=e.readOnly,u=(0,p.$)().t,m=function(e){return l?(0,y.jsx)(L.Co,{children:(0,y.jsx)(Rl,{children:(0,y.jsx)(Cl,{})})}):(0,y.jsx)(L.Co,{onClick:function(){d(!0),o().then((function(t){d(!1),t.data.singleName.state>e&&a()}))},children:u("c.refresh")})};return{ENABLE_DNSSEC:(0,y.jsx)(m,{number:2}),ADD_TEXT:(0,y.jsx)(m,{number:4}),SUBMIT_PROOF:(0,y.jsx)(pe.m,{mutation:he.cH,onCompleted:function(e){s(Object.values(e)[0]),a()},children:function(e){return(0,y.jsx)(L.Co,{onClick:function(){e({variables:{name:n,parentOwner:r}})},type:c?"disabled":"primary",children:u("c.register")})}}),SUBMIT_SENT:(0,y.jsx)(be.Z,{txHash:i,onConfirmed:function(){a()}}),SUBMIT_CONFIRMED:(0,y.jsxs)(L.Co,{onClick:function(){return o()},children:[(0,y.jsx)(Dl,{}),u("dns.viewinmanager")]})}[t]}var Fl=function(e){var t=e.name,n=e.parentOwner,a=e.step,s=e.incrementStep,o=e.refetch,l=e.error,d=e.readOnly,c=(0,p.$)().t,u=(0,i.useState)(void 0),m=(0,r.Z)(u,2),f=m[0],g=m[1],x=(0,i.useState)(void 0),h=(0,r.Z)(x,2),v=h[0],b=h[1];return(0,y.jsxs)(Sl,{children:[l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Il,{}),(0,y.jsx)(Nl,{children:l})]}):null,(0,y.jsxs)(Pl,{href:"https://docs.ens.domains/dns-registrar-guide",target:"_blank",children:[c("c.learnmore"),(0,y.jsx)(Tl,{children:(0,y.jsx)(tr.r,{})})]}),(0,y.jsx)(Ml,{step:a,name:t,parentOwner:n,incrementStep:s,txHash:f,setTxHash:g,refetch:o,loading:v,setLoading:b,readOnly:d})]})},Al=n(390);var _l,Bl,zl,Ll,Ul,ql=(0,f.Z)(Al.Z,{target:"eoumirh0"})({name:"1z0j3iw",styles:"display:flex;overflow:hidden;svg{flex-grow:1;}"}),Vl=(0,f.Z)("div",{target:"eoumirh1"})({name:"19lgokg",styles:"padding:20px 40px;"}),Hl=(0,f.Z)("span",{target:"eoumirh2"})("color:",(function(e){return e.color}),";"),Yl=(0,f.Z)("span",{target:"eoumirh3"})({name:"1noogy1",styles:"color:#d8d8d8;"}),Wl=(0,f.Z)("div",{target:"eoumirh4"})({name:"11buw17",styles:"background:#f0f6fa;display:flex;padding:1em 0;*{padding-left 24px;}"}),$l=(0,f.Z)("ul",{target:"eoumirh5"})({name:"qd70tj",styles:"background:#f0f6fa;list-style:none;overflow:hidden;display:flex;padding:1em;li{border-right:1px solid #adbbcd;text-align:center;flex:auto;}li a{color:white;text-decoration:none;padding:10px 0 10px 65px;background:brown;background:hsla(34,85%,35%,1);position:relative;display:block;float:left;}li:last-child{border-right:none;}"}),Kl=(0,f.Z)("span",{target:"eoumirh6"})({name:"s3qwly",styles:"margin-right:0.5em;"}),Gl=function(e){var t,n=e.number,r=e.currentNumber,a=e.text,i=n<r?"\u2713":n;return t=n===r?"#2B2B2B":n<r?"#42E068":"#D8D8D8",(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Kl,{children:(0,y.jsx)("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",children:(0,y.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,y.jsx)("g",{transform:"translate(-694.000000, -314.000000)",children:(0,y.jsx)("g",{transform:"translate(404.000000, 183.000000)",children:(0,y.jsx)("g",{transform:"translate(37.000000, 119.000000)",children:(0,y.jsx)("g",{transform:"translate(253.000000, 9.000000)",children:(0,y.jsxs)("g",{transform:"translate(0.000000, 2.000000)",children:[(0,y.jsx)("circle",{fill:t,cx:"6",cy:"7",r:"6"}),(0,y.jsx)("text",{fontFamily:"Helvetica",fontSize:"10",fontWeight:"normal",letterSpacing:"0.3125",fill:"#F0F6FA",children:(0,y.jsx)("tspan",{x:"2.8",y:"10",children:i})})]})})})})})})})}),(0,y.jsx)(Hl,{color:t,children:a})]})},Xl=function(e){var t=e.account,n=e.domain,a=e.refetch,s=e.readOnly,o=e.registrarAddress,l=(0,p.$)().t,d=wn[n.state],c=(0,i.useReducer)(bl,d.state||hl.initialState),u=(0,r.Z)(c,2),m=u[0],f=u[1];console.error("step",m,n.dnsOwner);var g=function(e,t,n,r){var a={ENABLE_DNSSEC:{title:r("dns.steps.enable.title"),text:r("dns.steps.enable.title"),number:1},ADD_TEXT:{title:(0,y.jsxs)(y.Fragment,{children:[r("dns.steps.addtext.title"),(0,y.jsxs)(Yl,{children:["a=",t]})]}),text:r("dns.steps.addtext.text"),number:2},SUBMIT_PROOF:[{title:r("dns.steps.proof.title1"),text:r("dns.steps.proof.text1"),number:3,owner:!0},{title:r("dns.steps.proof.title2"),text:r("dns.steps.proof.text2"),number:3}],SUBMIT_SENT:[{title:r("dns.steps.proof.title1"),text:r("dns.steps.proof.text1"),number:3,owner:!0},{title:r("dns.steps.proof.title2"),text:r("dns.steps.proof.text2"),number:3}],SUBMIT_CONFIRMED:[{title:r("dns.steps.manage.title"),text:r("dns.steps.manage.text1"),number:4,owner:!0},{title:r("dns.steps.manage.title"),text:r("dns.steps.manage.text2"),number:4}]}[e];return a.length>=0&&(a=t&&n.toLowerCase()===t.toLowerCase()?a[0]:a[1]),a}(m,t,n.dnsOwner,l),x=d.displayError&&(n.stateError||d.title),h=n.dnsOwner&&[2,3,4].includes(g.number)&&0!==parseInt(n.dnsOwner);return(0,y.jsxs)(Vl,{children:[(0,y.jsxs)($l,{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)(Gl,{number:1,currentNumber:g.number,text:l("dns.breadcrumbs.0")})," "]}),(0,y.jsx)("li",{children:(0,y.jsx)(Gl,{number:2,currentNumber:g.number,text:l("dns.breadcrumbs.1")})}),(0,y.jsx)("li",{children:(0,y.jsx)(Gl,{number:3,currentNumber:g.number,text:l("dns.breadcrumbs.2")})}),(0,y.jsx)("li",{children:(0,y.jsx)(Gl,{number:4,currentNumber:g.number,text:l("dns.breadcrumbs.3")})})]}),(0,y.jsx)(kl,{step:m,border:!h,number:g.number,title:g.title,text:g.text}),h?(0,y.jsxs)(Wl,{children:[(0,y.jsxs)("span",{children:[l("dns.dnsowner")," ",g.owner?(0,y.jsx)(Jr,{}):null]}),(0,y.jsxs)(ql,{address:n.dnsOwner,children:[(0,y.jsx)(or.K,{address:n.dnsOwner,imageSize:24}),n.dnsOwner]})]}):null,(0,y.jsx)(Fl,{name:n.name,parentOwner:o,incrementStep:function(){return f("NEXT")},step:m,error:x,state:n.state,label:n.label,refetch:a,readOnly:s})]})},Jl=function(e){return(0,y.jsx)(Xl,(0,E.Z)({},e))},Ql=(0,f.Z)("div",{target:"e2p7w0b0"})("padding:20px;text-align:center;",g.ZP.medium(_l||(_l=(0,a.Z)(["\n    padding: 40px 40px;\n  "]))),""),ed=(0,f.Z)("div",{target:"e2p7w0b1"})("background:#f0f6fa;padding:20px;display:flex;justify-content:space-between;flex-direction:column;align-items:center;",g.ZP.medium(Bl||(Bl=(0,a.Z)(["\n    flex-direction: row;\n    align-items: flex-start;\n  "])))," p{text-align:left;max-width:500px;font-weight:300;line-height:26px;font-size:18px;margin-top:0;}",g.ZP.small(zl||(zl=(0,a.Z)(["\n    padding: 40px 40px;\n  "]))),"");function td(e){e.name;return(0,y.jsx)(Ql,{children:(0,y.jsx)(ed,{children:"1 ~ 2 characters are not allowed to register."})})}var nd=(0,f.Z)(me.rU,{target:"e1hk9v110"})("font-size:14px;background:",(function(e){return e.active?"#2C46A6":"transparent"}),";color:",(function(e){return e.active?"white":"#D2D2D2"}),";transform:scale(",(function(e){return e.active?"1.08":"1"}),");transition:background 0.1s ease-out,transform 0.3s ease-out;padding:10px 20px;",g.ZP.small(Ll||(Ll=(0,a.Z)(["\n    padding: 10px 30px;\n  "])))," &:hover,&:visited{color:",(function(e){return e.active?"white":"#D2D2D2"}),";}&:first-child{border-radius:4px 0 0 4px;}&:last-child{border-radius:0 4px 4px 0;}"),rd=(0,f.Z)("div",{target:"e1hk9v111"})("display:inline-flex;justify-content:flex-start;border:2px solid #dfdfdf;border-radius:4px;margin-left:20px;margin-top:20px;",g.ZP.small(Ul||(Ul=(0,a.Z)(["\n    margin-right: 0;\n    margin: 0;\n    margin-left: 20px;\n  "]))),"");function ad(e,t,n){var r=wa.n.getCurrentTld(),a=e.name;return e.parent!==r?t!=="/name/".concat(a,"/register")&&t!=="/name/".concat(a,"/subdomains"):("details"===n||t==="/name/".concat(a,"/details"))&&t!=="/name/".concat(a,"/register")&&t!=="/name/".concat(a,"/subdomains")}var id,sd,od=function(e){var t=e.domain,n=e.pathname,r=e.parent,a=e.tab,i=(0,p.$)().t,s=t.name,o=t.state,l=wa.n.getCurrentTld();return("Auction"!==o||"Reveal"!==o)&&(0,y.jsxs)(rd,{children:[r===l&&(0,y.jsx)(nd,{active:("register"===a||n==="/name/".concat(s,"/register"))&&n!=="/name/".concat(s,"/details")&&n!=="/name/".concat(s,"/subdomains"),to:"/name/".concat(s,"/register"),children:i("singleName.tabs.register")}),(0,y.jsx)(nd,{active:ad(t,n,a),to:"/name/".concat(s,"/details"),children:i("singleName.tabs.details")}),(0,y.jsx)(nd,{active:n==="/name/".concat(s,"/subdomains"),to:"/name/".concat(s,"/subdomains"),children:i("singleName.tabs.subdomains")})]})},ld=n(54642);var dd=(0,f.Z)("div",{target:"e3upn1v0"})({name:"1uu6enn",styles:"color:#ccd4da;margin-right:20px;"}),cd=(0,f.Z)("div",{target:"e3upn1v1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),ud=(0,f.Z)(w,{target:"e3upn1v2"})("");function md(e){var t,n=null===(t=e.name)||void 0===t?void 0:t.split(".");return 2===(null===n||void 0===n?void 0:n.length)&&"eth"!==(null===n||void 0===n?void 0:n[1])&&(e.isDNSRegistrar&&e.owner===x.$W)}var fd=(0,o.Ps)(id||(id=(0,a.Z)(["\n  query nameRegisterDataWrapper @client {\n    accounts\n    networkId\n  }\n"]))),pd=(0,o.Ps)(sd||(sd=(0,a.Z)(["\n  query nameQuery {\n    accounts @client\n  }\n"])));var gd,xd=function(e){var t,n,a=e.details,o=e.name,d=e.pathname,c=e.type,u=e.refetch,m=(0,p.$)().t,f=(0,g.to)("small"),b=(0,s.a)(pd).data.accounts,j=null===b||void 0===b?void 0:b[0],w=function(e,t){var n;return e.owner!==x.$W&&!e.available&&(null===(n=e.owner)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}(a,j),Z=(0,l.kp)(a,j),E=a.deedOwner===j,O=!a.available&&a.registrant===j;console.log("domain.available, domain.parent =",a.available,a.parent);var k,R,C,T=(k=a.available,a.parent===wa.n.getCurrentTld()&&k),S=T?"register":"details",P=a.parentOwner;E||O?R="Registrant":w&&(R="Controller"),C=md(a)?"Open":w?"Yours":a.state;var D=function(){var e=(0,i.useState)(0),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,s.a)(fd).data,l=o.accounts,d=o.networkId,c=null===l||void 0===l?void 0:l[0];return(0,i.useEffect)((function(){a((function(e){return e+1}))}),[c,d]),n}();return(0,y.jsxs)(ld.Z,{state:C,children:[(0,y.jsxs)(v.Z,{percentDone:0,children:[(0,y.jsxs)(h.D,{children:[null!==a&&void 0!==a&&a.decrypted?o:"[unknown"+(null===(t=a.name)||void 0===t?void 0:t.split(".")[0].slice(1,11))+"]."+a.parent,(0,y.jsx)(Rr,{value:null!==a&&void 0!==a&&a.decrypted?o:"[unknown"+(null===(n=a.name)||void 0===n?void 0:n.split(".")[0].slice(1,11))+"]."+a.parent})]}),(0,y.jsxs)(cd,{children:[!!R&&(0,y.jsx)(dd,{"data-testid":"owner-type",children:m("Registrant"===R?"c.registrant":"c.Controller")}),(0,y.jsx)(ud,{domain:a}),f&&(0,y.jsx)(od,{pathname:d,tab:S,domain:a,parent:a.parent})]})]}),!f&&(0,y.jsx)(od,{pathname:d,tab:S,domain:a,parent:a.parent}),md(a)?(0,y.jsx)(Jl,{domain:a,registrarAddress:P,pathname:d,refetch:u,account:j,readOnly:j===x.$W}):"short"===c&&a.owner===x.$W?(0,y.jsx)(td,{name:o}):(0,y.jsx)(xl,{tab:S,domain:a,pathname:d,name:o,isOwner:w,isOwnerOfParent:Z,refetch:u,account:j,registrationOpen:T})]},D)},hd=(0,o.Ps)(gd||(gd=(0,a.Z)(["\n  query singleNameQuery @client {\n    isENSReady\n    networkId\n  }\n"])));var vd=function(e){var t=e.match.params.name,n=e.location.pathname;(0,d.qQ)(0);var a,o=(0,i.useState)(void 0),f=(0,r.Z)(o,2),p=f[0],g=f[1],x=(0,i.useState)(void 0),h=(0,r.Z)(x,2),v=h[0],b=h[1],j=(0,i.useState)(""),w=(0,r.Z)(j,2),Z=w[0],E=w[1],O=(0,s.a)(hd).data.isENSReady,k=(0,s.a)(c.yD,{variables:{name:Z},fetchPolicy:"no-cache",context:{queryDeduplication:!1}}),R=k.data,C=k.loading,T=k.error,S=k.refetch;if((0,i.useEffect)((function(){var e;if(O)try{e=(0,l.Ol)(t),E(e),document.title=t}catch(n){document.title="Error finding name"}finally{(0,l.ev)(e||t).then((function(e){"supported"===e||"tld"===e||"search"===e?(g(!0),b(e)):(b("invalid"===e?"domainMalformed":e),g(!1))}))}}),[t,O]),console.log("valid, data =",p,C,T,R),p){if(C)return(0,y.jsx)(u.Z,{large:!0,center:!0});if(T)return(0,y.jsx)("div",{children:(console.log(T),JSON.stringify(T))});if(null!==R&&void 0!==R&&R.singleName)return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(xd,{details:R.singleName,name:Z,pathname:n,type:v,refetch:S})})}return!1===p?(a="invalid"===v?"domainMalformed":"short"===v?"tooShort":v,(0,y.jsx)(m.Z,{errors:[a],searchTerm:Z||t})):(0,y.jsx)(u.Z,{large:!0,center:!0})}},96517:function(e,t,n){"use strict";e.exports=n.p+"static/media/temporal.2792808ff3b15f243cdf.png"},9116:function(){},89638:function(){},49367:function(){},70307:function(){},16851:function(){},7035:function(){},17548:function(){},89214:function(){},71922:function(){},2363:function(){},64924:function(){},62678:function(){},25819:function(){},77451:function(){}}]);
//# sourceMappingURL=SingleName.9d085f4f-aa99a.chunk.js.map